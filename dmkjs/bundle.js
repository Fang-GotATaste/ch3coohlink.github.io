!function a(i,s,u){function c(t,e){if(!s[t]){if(!i[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(l)return l(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=s[t]={exports:{}};i[t][0].call(o.exports,function(e){return c(i[t][1][e]||e)},o,o.exports,a,i,s,u)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,r){"use strict";r.__esModule=!0;var n=e("./styles/editor"),o=e("./styles/injector"),a=e("./styles/theme-default"),i=e("./utils/html-escape"),s=e("prismjs"),u=(c.prototype.startEditor=function(){if(!o.injectCss(n.editorCss,null,this.opts.styleParent))throw Error("Failed to inject CodeFlask CSS.");this.createWrapper(),this.createTextarea(),this.createPre(),this.createCode(),this.runOptions(),this.listenTextarea(),this.populateDefault(),this.updateCode(this.code)},c.prototype.createWrapper=function(){this.code=this.editorRoot.innerHTML,this.editorRoot.innerHTML="",this.elWrapper=this.createElement("div",this.editorRoot),this.elWrapper.classList.add("codeflask")},c.prototype.createTextarea=function(){this.elTextarea=this.createElement("textarea",this.elWrapper),this.elTextarea.classList.add("codeflask__textarea","codeflask__flatten")},c.prototype.createPre=function(){this.elPre=this.createElement("pre",this.elWrapper),this.elPre.classList.add("codeflask__pre","codeflask__flatten")},c.prototype.createCode=function(){this.elCode=this.createElement("code",this.elPre),this.elCode.classList.add("codeflask__code","language-"+(this.opts.language||"html"))},c.prototype.createLineNumbers=function(){this.elLineNumbers=this.createElement("div",this.elWrapper),this.elLineNumbers.classList.add("codeflask__lines"),this.setLineNumber()},c.prototype.createElement=function(e,t){var r=document.createElement(e);return t.appendChild(r),r},c.prototype.runOptions=function(){this.opts.rtl=this.opts.rtl||!1,this.opts.tabSize=this.opts.tabSize||2,this.opts.enableAutocorrect=this.opts.enableAutocorrect||!1,this.opts.lineNumbers=this.opts.lineNumbers||!1,this.opts.defaultTheme=!1!==this.opts.defaultTheme,this.opts.areaId=this.opts.areaId||null,this.opts.ariaLabelledby=this.opts.ariaLabelledby||null,this.opts.readonly=this.opts.readonly||null,"boolean"!=typeof this.opts.handleTabs&&(this.opts.handleTabs=!0),"boolean"!=typeof this.opts.handleSelfClosingCharacters&&(this.opts.handleSelfClosingCharacters=!0),"boolean"!=typeof this.opts.handleNewLineIndentation&&(this.opts.handleNewLineIndentation=!0),!0===this.opts.rtl&&(this.elTextarea.setAttribute("dir","rtl"),this.elPre.setAttribute("dir","rtl")),!1===this.opts.enableAutocorrect&&(this.elTextarea.setAttribute("spellcheck","false"),this.elTextarea.setAttribute("autocapitalize","off"),this.elTextarea.setAttribute("autocomplete","off"),this.elTextarea.setAttribute("autocorrect","off")),this.opts.lineNumbers&&(this.elWrapper.classList.add("codeflask--has-line-numbers"),this.createLineNumbers()),this.opts.defaultTheme&&o.injectCss(a.defaultCssTheme,"theme-default",this.opts.styleParent),this.opts.areaId&&this.elTextarea.setAttribute("id",this.opts.areaId),this.opts.ariaLabelledby&&this.elTextarea.setAttribute("aria-labelledby",this.opts.ariaLabelledby),this.opts.readonly&&this.enableReadonlyMode()},c.prototype.updateLineNumbersCount=function(){for(var e="",t=1;t<=this.lineNumber;t++)e=e+'<span class="codeflask__lines__line">'+t+"</span>";this.elLineNumbers.innerHTML=e},c.prototype.listenTextarea=function(){var t=this;this.elTextarea.addEventListener("input",function(e){t.code=e.target.value,t.elCode.innerHTML=i.escapeHtml(e.target.value),t.highlight(),setTimeout(function(){t.runUpdate(),t.setLineNumber()},1)}),this.elTextarea.addEventListener("keydown",function(e){t.handleTabs(e),t.handleSelfClosingCharacters(e),t.handleNewLineIndentation(e)}),this.elTextarea.addEventListener("scroll",function(e){t.elPre.style.transform="translate3d(-"+e.target.scrollLeft+"px, -"+e.target.scrollTop+"px, 0)",t.elLineNumbers&&(t.elLineNumbers.style.transform="translate3d(0, -"+e.target.scrollTop+"px, 0)")})},c.prototype.handleTabs=function(e){if(this.opts.handleTabs){if(9!==e.keyCode)return;e.preventDefault();var t=this.elTextarea,r=t.selectionDirection,n=t.selectionStart,o=t.selectionEnd,a=t.value,i=a.substr(0,n),s=a.substring(n,o),u=a.substring(o),c=" ".repeat(this.opts.tabSize);if(n!==o&&s.length>=c.length){var l=n-i.split("\n").pop().length,f=c.length,d=c.length;s=e.shiftKey?(a.substr(l,c.length)===c?(f=-f,n<l?(s=s.substring(0,l)+s.substring(l+c.length),d=0):l===n?(d=f=0,s=s.substring(c.length)):(d=-d,i=i.substring(0,l)+i.substring(l+c.length))):d=f=0,s.replace(new RegExp("\n"+c.split("").join("\\"),"g"),"\n")):(i=i.substr(0,l)+c+i.substring(l,n),s.replace(/\n/g,"\n"+c)),t.value=i+s+u,t.selectionStart=n+f,t.selectionEnd=n+s.length+d,t.selectionDirection=r}else t.value=i+c+u,t.selectionStart=n+c.length,t.selectionEnd=n+c.length;var p=t.value;this.updateCode(p),this.elTextarea.selectionEnd=o+this.opts.tabSize}},c.prototype.handleSelfClosingCharacters=function(e){if(this.opts.handleSelfClosingCharacters){var t=e.key;if(["(","[","{","<","'",'"'].includes(t)||[")","]","}",">","'",'"'].includes(t))switch(t){case"(":case")":this.closeCharacter(t);break;case"[":case"]":this.closeCharacter(t);break;case"{":case"}":this.closeCharacter(t);break;case"<":case">":case"'":case'"':this.closeCharacter(t)}}},c.prototype.setLineNumber=function(){this.lineNumber=this.code.split("\n").length,this.opts.lineNumbers&&this.updateLineNumbersCount()},c.prototype.handleNewLineIndentation=function(e){if(this.opts.handleNewLineIndentation&&13===e.keyCode){e.preventDefault();var t=this.elTextarea,r=t.selectionStart,n=t.selectionEnd,o=t.value,a=o.substr(0,r),i=o.substring(n),s=o.lastIndexOf("\n",r-1),u=s+o.slice(s+1).search(/[^ ]|$/),c=s<u?u-s:0,l=a+"\n"+" ".repeat(c)+i;t.value=l,t.selectionStart=r+c+1,t.selectionEnd=r+c+1,this.updateCode(t.value)}},c.prototype.closeCharacter=function(e){var t=this.elTextarea.selectionStart,r=this.elTextarea.selectionEnd;if(this.skipCloseChar(e)){var n=this.code.substr(r,1)===e,o=n?r+1:r;a=!n&&["'",'"'].includes(e)?e:"",s=""+this.code.substring(0,t)+a+this.code.substring(o),this.updateCode(s),this.elTextarea.selectionEnd=++this.elTextarea.selectionStart}else{var a=e;switch(e){case"(":a=String.fromCharCode(e.charCodeAt()+1);break;case"<":case"{":case"[":a=String.fromCharCode(e.charCodeAt()+2)}var i=this.code.substring(t,r),s=""+this.code.substring(0,t)+i+a+this.code.substring(r);this.updateCode(s)}this.elTextarea.selectionEnd=t},c.prototype.skipCloseChar=function(e){var t=this.elTextarea.selectionStart,r=this.elTextarea.selectionEnd,n=0<Math.abs(r-t);return[")","}","]",">"].includes(e)||["'",'"'].includes(e)&&!n},c.prototype.updateCode=function(e){this.code=e,this.elTextarea.value=e,this.elCode.innerHTML=i.escapeHtml(e),this.highlight(),this.setLineNumber(),setTimeout(this.runUpdate.bind(this),1)},c.prototype.updateLanguage=function(e){var t=this.opts.language;this.elCode.classList.remove("language-"+t),this.elCode.classList.add("language-"+e),this.opts.language=e,this.highlight()},c.prototype.addLanguage=function(e,t){s.languages[e]=t},c.prototype.populateDefault=function(){this.updateCode(this.code)},c.prototype.highlight=function(){s.highlightElement(this.elCode,!1)},c.prototype.onUpdate=function(e){if(e&&"[object Function]"!=={}.toString.call(e))throw Error("CodeFlask expects callback of type Function");this.updateCallBack=e},c.prototype.getCode=function(){return this.code},c.prototype.runUpdate=function(){this.updateCallBack&&this.updateCallBack(this.code)},c.prototype.enableReadonlyMode=function(){this.elTextarea.setAttribute("readonly",!0)},c.prototype.disableReadonlyMode=function(){this.elTextarea.removeAttribute("readonly")},c);function c(e,t){if(!e)throw Error("CodeFlask expects a parameter which is Element or a String selector");if(!t)throw Error("CodeFlask expects an object containing options as second parameter");if(e.nodeType)this.editorRoot=e;else{var r=document.querySelector(e);r&&(this.editorRoot=r)}this.opts=t,this.startEditor()}r.default=u},{"./styles/editor":2,"./styles/injector":3,"./styles/theme-default":4,"./utils/html-escape":6,prismjs:10}],2:[function(e,t,r){"use strict";r.__esModule=!0;var n=e("./theme-default"),o='"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace',a=e("../utils/css-supports").cssSupports("caret-color","#000")?n.BACKGROUND_COLOR:"#ccc",i="40px";r.editorCss="\n  .codeflask {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n  }\n\n  .codeflask, .codeflask * {\n    box-sizing: border-box;\n  }\n\n  .codeflask__pre {\n    pointer-events: none;\n    z-index: 3;\n    overflow: hidden;\n  }\n\n  .codeflask__textarea {\n    background: none;\n    border: none;\n    color: "+a+";\n    z-index: 1;\n    resize: none;\n    font-family: "+o+";\n    -webkit-appearance: pre;\n    caret-color: #111;\n    z-index: 2;\n    width: 100%;\n    height: 100%;\n  }\n\n  .codeflask--has-line-numbers .codeflask__textarea {\n    width: calc(100% - "+i+");\n  }\n\n  .codeflask__code {\n    display: block;\n    font-family: "+o+";\n    overflow: hidden;\n  }\n\n  .codeflask__flatten {\n    padding: 10px;\n    padding-left: 0px;\n    font-size: "+n.FONT_SIZE+";\n    line-height: "+n.LINE_HEIGHT+";\n    white-space: pre;\n    position: absolute;\n    top: 0;\n    left: 0;\n    overflow: auto;\n    margin: 0 !important;\n    outline: none;\n    text-align: left;\n  }\n\n  .codeflask--has-line-numbers .codeflask__flatten {\n    width: calc(100% - "+i+");\n    left: "+i+";\n  }\n\n  .codeflask__line-highlight {\n    position: absolute;\n    top: 10px;\n    left: 0;\n    width: 100%;\n    height: "+n.LINE_HEIGHT+";\n    background: rgba(0,0,0,0.1);\n    z-index: 1;\n  }\n\n  .codeflask__lines {\n    padding: 10px 4px;\n    font-size: 12px;\n    line-height: "+n.LINE_HEIGHT+";\n    font-family: 'Cousine', monospace;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: "+i+";\n    height: 100%;\n    text-align: right;\n    color: #999;\n    z-index: 2;\n  }\n\n  .codeflask__lines__line {\n    display: block;\n  }\n\n  .codeflask.codeflask--has-line-numbers {\n    padding-left: "+i+";\n  }\n\n  .codeflask.codeflask--has-line-numbers:before {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: "+i+";\n    height: 100%;\n    background: #eee;\n    z-index: 1;\n  }\n"},{"../utils/css-supports":5,"./theme-default":4}],3:[function(e,t,r){"use strict";r.__esModule=!0,r.injectCss=function(e,t,r){var n=t||"codeflask-style",o=r||document.head;if(!e)return!1;if(document.getElementById(n))return!0;var a=document.createElement("style");return a.innerHTML=e,a.id=n,o.appendChild(a),!0}},{}],4:[function(e,t,r){"use strict";r.__esModule=!0,r.BACKGROUND_COLOR="#fff",r.LINE_HEIGHT="20px",r.FONT_SIZE="13px",r.defaultCssTheme="\n.codeflask {\n  background: "+r.BACKGROUND_COLOR+";\n  color: #4f559c;\n}\n\n.codeflask .token.punctuation {\n  color: #4a4a4a;\n}\n\n.codeflask .token.keyword {\n  color: #8500ff;\n}\n\n.codeflask .token.operator {\n  color: #ff5598;\n}\n\n.codeflask .token.string {\n  color: #41ad8f;\n}\n\n.codeflask .token.comment {\n  color: #9badb7;\n}\n\n.codeflask .token.function {\n  color: #8500ff;\n}\n\n.codeflask .token.boolean {\n  color: #8500ff;\n}\n\n.codeflask .token.number {\n  color: #8500ff;\n}\n\n.codeflask .token.selector {\n  color: #8500ff;\n}\n\n.codeflask .token.property {\n  color: #8500ff;\n}\n\n.codeflask .token.tag {\n  color: #8500ff;\n}\n\n.codeflask .token.attr-value {\n  color: #8500ff;\n}\n"},{}],5:[function(e,t,r){"use strict";function n(e){return(e=e.split("-").filter(function(e){return!!e}).map(function(e){return e[0].toUpperCase()+e.substr(1)}).join(""))[0].toLowerCase()+e.substr(1)}r.__esModule=!0,r.cssSupports=function(e,t){return"undefined"!=typeof CSS?CSS.supports(e,t):"undefined"!=typeof document&&n(e)in document.body.style},r.toCamelCase=n},{}],6:[function(e,t,r){"use strict";r.__esModule=!0;var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};r.escapeHtml=function(e){return String(e).replace(/[&<>"'`=/]/g,function(e){return n[e]})}},{}],7:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(a,i,s,u){return new(s=s||Promise)(function(e,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function n(e){try{o(u.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(r,n)}o((u=u.apply(a,i||[])).next())})},__generator=this&&this.__generator||function(r,n){var o,a,i,e,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,a&&(i=2&t[0]?a.return:t[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,t[1])).done)return i;switch(a=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(i=0<(i=s.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){s.label=t[1];break}if(6===t[0]&&s.label<i[1]){s.label=i[1],i=t;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(t);break}i[2]&&s.ops.pop(),s.trys.pop();continue}t=n.call(r,s)}catch(e){t=[6,e],a=0}finally{o=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},_this=this;exports.__esModule=!0;var element=function(e,t){return document.createElement(e,t)},append=function(e,t){return e.appendChild(t)},load_text=function(t){return __awaiter(_this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,Promise.all(t.map(function(e){return fetch(e).then(function(e){return e.text()})}))];case 1:return[2,e.sent()]}})})},rand=function(e,t){return void 0===t&&(t=e,e=0),e+Math.random()*(t-e)},twgl_js_1=require("twgl.js"),typestyle_1=require("typestyle"),codeflask_1=require("./editor/codeflask"),localforage_1=require("localforage"),log=console.log,error=console.error,clear=console.clear;clear();var instance_demo=function(f,e,t){for(var d=twgl_js_1.createProgramInfo(f,[e,t]),r=new Float32Array(16e5),n=new Array,o=0;o<1e5;++o){var a=new Float32Array(r.buffer,16*o*4,16);twgl_js_1.m4.translation([rand(-70,70),rand(-70,70),rand(-70,70)],a),twgl_js_1.m4.rotateZ(a,rand(0,2*Math.PI),a),twgl_js_1.m4.rotateX(a,rand(0,2*Math.PI),a),n.push(rand(1),rand(1),rand(1))}var i=twgl_js_1.primitives.createPlaneVertices();Object.assign(i,{instanceWorld:{numComponents:16,data:r,divisor:1},instanceColor:{numComponents:3,data:n,divisor:1}});var s=twgl_js_1.createBufferInfoFromArrays(f,i),p=twgl_js_1.createVertexArrayInfo(f,d,s);return function(e){e/=1e3;var t=window.devicePixelRatio,r=f.canvas;r.width=r.clientWidth*t,r.height=r.clientHeight*t,f.viewport(0,0,f.canvas.width,f.canvas.height),f.enable(f.DEPTH_TEST),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT);var n=30*Math.PI/180,o=f.canvas.clientWidth/f.canvas.clientHeight,a=twgl_js_1.m4.perspective(n,o,.5,500),i=.1*e,s=[25*Math.sin(i),10*Math.sin(.7*i),25*Math.cos(i)],u=twgl_js_1.m4.lookAt(s,[0,0,0],[0,1,0]),c=twgl_js_1.m4.inverse(u),l={u_lightWorldPos:[1,8,-30],u_lightColor:[1,1,1,1],u_ambient:[0,0,0,1],u_specular:[1,1,1,1],u_shininess:50,u_specularFactor:1,u_viewProjection:twgl_js_1.m4.multiply(a,c),u_viewInverse:u};f.useProgram(d.program),twgl_js_1.setBuffersAndAttributes(f,d,p),twgl_js_1.setUniforms(d,l),twgl_js_1.drawBufferInfo(f,p,f.TRIANGLES,p.numElements,0,1e5)}},repeat=function(o){return function(e,t){if(t<e)return[];for(var r=[],n=((0,Math.floor)(e/o)+1)*o;n<t;)r.push(n),n+=o;return r}},RenderLoop=(Jc.prototype.start=function(){return requestAnimationFrame(this.loop),this},Jc.prototype.add=function(e){return this.callback_arr.push(e),this},Jc);function Jc(e){var r=this;this.loop=function(t){t/=1e3,0<r.frame_count&&r.callback_arr.forEach(function(e){return e(t)}),(r.max_frame<0||r.frame_count<r.max_frame)&&(r.frame_count+=1,r.prev_time=t,requestAnimationFrame(r.loop))},this.callback_arr=[],this.frame_count=0,this.max_frame=-1,this.prev_time=0,"number"==typeof e&&0<=e&&(this.max_frame=e)}var Element=(Pc.prototype.style=function(e){return this.element.className=typestyle_1.style(e),this},Pc.prototype.child=function(e){return e instanceof Pc?this.element.appendChild(e.element):this.element.appendChild(e),this},Pc.prototype.content=function(e){return this.element.textContent=e,this},Pc);function Pc(e,t){e instanceof HTMLElement?this.element=e:this.element=document.createElement(e,t)}var Vec2=function(e,t){this.x=0,this.y=0,this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0},MatrixRP2=function(e,t,r,n,o,a){this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this.a="number"==typeof e?e:1,this.b="number"==typeof t?t:0,this.c="number"==typeof r?r:0,this.d="number"==typeof n?n:1,this.e="number"==typeof o?o:0,this.f="number"==typeof a?a:0},multiply=function(e,t){return new MatrixRP2(e.a*t.a+e.c*t.b,e.b*t.a+e.d*t.b,e.a*t.c+e.c*t.d,e.b*t.c+e.d*t.d,e.a*t.e+e.c*t.f+e.e,e.b*t.e+e.d*t.f+e.f)},scale=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=1),new MatrixRP2(e,0,0,t)},rotate=function(e){void 0===e&&(e=0);var t=[Math.cos(e),Math.sin(e)],r=t[0],n=t[1];return new MatrixRP2(r,n,-n,r)},translate=function(e,t){return void 0===e&&(e=0),new MatrixRP2(1,0,0,1,e,t)},shear=function(e,t){return new MatrixRP2(1,t,e)},multimatrix=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];switch(e.length){case 0:throw new Error("no matrices provided");case 1:return e[0];case 2:return multiply(e[0],e[1]);default:return e.reduce(function(e,t,r){return 0===r?t:multiply(e,t)})}},drawPath=function(t,e,r,n){for(var o in t.save(),n)"fill"!==o&&(t[o]=n[o]);var a=r.a,i=r.b,s=r.c,u=r.d,c=r.e,l=r.f;t.transform(a,i,s,u,c,l),t.beginPath(),0<e.length&&(t.moveTo(e[0].x,e[0].y),e.forEach(function(e){t.lineTo(e.x,e.y)}),t.lineTo(e[0].x,e[0].y)),t.stroke(),n&&!0===n.fill&&t.fill(),t.restore()},vec2Array=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(function(e,t,r){return r%2==0?e.push(new Vec2(t,0)):e[e.length-1].y=t,e},new Array)},bullet_editor=function(){return __awaiter(_this,void 0,void 0,function(){var canvas,crc,max_frame,render_loop,sin,cos,atan2,toward_speed_vector,game,div_editor,div_canvas,div_setting,editor_1,code_1,csk_1,saved_code,reload_code_button,runCode_1,saveCode_1,bullets,drawEditor;return __generator(this,function(_a){switch(_a.label){case 0:return canvas=new Element("canvas").style({width:"100%",height:"100%"}).element,crc=canvas.getContext("2d"),max_frame=-1,render_loop=new RenderLoop(max_frame),sin=Math.sin,cos=Math.cos,atan2=Math.atan2,toward_speed_vector=function(e,t){var r={x:e.x-t.x,y:e.y-t.y},n=0,o=1;return atan2(n*r.y-o*r.x,n*r.x+o*r.y)},game=void 0,div_editor=new Element("div").style({paddingLeft:10,width:"100%",height:400}).element,div_canvas=new Element("div").style({width:400,height:400}).child(canvas),div_setting=new Element("div"),new Element(document.body).style({overflow:"hidden",display:"flex",flexWrap:"wrap"}).child(div_editor).child(div_canvas).child(div_setting),editor_1=new codeflask_1.default(div_editor,{language:"js"}),code_1="const bullet = (init_time, x, y) => {\n  const v = { x, y };\n  return (t, pt) => {\n    const st = t - init_time;\n    const pst = pt - init_time;\n    const p = { x: st * v.x, y: st * v.y };\n    const pp = { x: pst * v.x, y: pst * v.y };\n    return multimatrix(\n      translate(p.x, p.y),\n      rotate(toward_speed_vector(p, pp)),\n    );\n  }\n};\nconst spawn = (t, pt) => repeat(0.05)(pt, t).map(v => {\n  const s = 100; // speed\n  return bullet(v, s * cos(v), s * sin(v));\n});\n\n({bullet, spawn});",csk_1="code",[4,localforage_1.getItem(csk_1)];case 1:return saved_code=_a.sent(),editor_1.updateCode(saved_code||code_1),reload_code_button=new Element("button").content("reload_code").element,reload_code_button.addEventListener("click",function(){return editor_1.updateCode(code_1)}),div_setting.child(reload_code_button),runCode_1=function(code){var game_setting=eval(code);game=function(){return game_setting}},runCode_1(editor_1.getCode()),saveCode_1=function(e){e&&localforage_1.setItem(csk_1,e)},document.addEventListener("keydown",function(e){("Enter"===e.key&&!0===e.altKey||"r"===e.key&&!0===e.altKey||"s"===e.key&&!0===e.ctrlKey||"Alt"===e.key)&&e.preventDefault()}),document.addEventListener("keyup",function(e){if("Enter"===e.key&&!0===e.altKey||"r"===e.key&&!0===e.altKey||"s"===e.key&&!0===e.ctrlKey){var t=editor_1.getCode();runCode_1(t);"s"===e.key&&!0===e.ctrlKey&&(saveCode_1(t),log("["+(new Date).toLocaleTimeString()+"] Code has been saved."))}}),render_loop.start(),bullets=new Array,drawEditor=function(e){var t=window.devicePixelRatio||1,a=canvas.width=canvas.clientWidth*t,i=canvas.height=canvas.clientHeight*t;crc.clearRect(0,0,canvas.width,canvas.height),crc.translate(canvas.width/2,canvas.height/2),crc.scale(1,-1);var o={strokeStyle:"#aaa",lineWidth:1*t},r=Math.ceil,s=a/15,n=[-a/2,-i/2,a/2,i/2],u=n[0],c=n[1],l=n[2],f=n[3];new Array(r(7.5)).fill(0).map(function(e,t){return t}).forEach(function(e){var t=[e*s,e*s],r=t[0],n=t[1];drawPath(crc,vec2Array(u,n,l,n),new MatrixRP2,o),drawPath(crc,vec2Array(r,c,r,f),new MatrixRP2,o),drawPath(crc,vec2Array(u,-n,l,-n),new MatrixRP2,o),drawPath(crc,vec2Array(-r,c,-r,f),new MatrixRP2,o)}),drawPath(crc,vec2Array(0,0,0,0,0,0),new MatrixRP2,{strokeStyle:"#777",lineWidth:6,lineCap:"round"});var d=e,p=render_loop.prev_time,h=200*t,y=translate(h*cos(e),h*sin(e));drawPath(crc,vec2Array(0,0,0,0,0,0),y,{strokeStyle:"#f00",lineWidth:8,lineCap:"round"});var m=10*e;drawPath(crc,vec2Array(10,10,10,-10,-10,-10,-10,10),rotate(m)),drawPath(crc,vec2Array(12,12,12,-12,-12,-12,-12,12),rotate(m));var v={strokeStyle:"blue",lineWidth:1};game().spawn(d,p).forEach(function(e){return bullets.push(e)}),bullets=bullets.filter(function(e){var t=e(d,p);return!function(e,t){var r=a/2,n=i/2,o=[-r,r,-n,n];return!(o[0]<e&&e<o[1]&&o[2]<t&&t<o[3])}(t.e,t.f)}).map(function(e){return function(e,t){void 0===t&&(t=2),drawPath(crc,vec2Array(-2*t,-t,0,4*t,2*t,-t),multimatrix(e),v)}(e(d,p)),e})},render_loop.add(drawEditor),[2]}})})};bullet_editor()},{"./editor/codeflask":1,localforage:9,"twgl.js":12,typestyle:13}],8:[function(e,t,M){(function(n){"use strict";var o,e=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(M,"__esModule",{value:!0});var _=0;M.IS_UNIQUE="__DO_NOT_DEDUPE_STYLE__";for(var t=/[A-Z]/g,r=/^ms-/,a=/&/g,i=/[ !#$%&()*+,./;<=>?@[\]^`{|}~"'\\]/g,s=function(e){return"-"+e.toLowerCase()},u={"animation-iteration-count":!0,"border-image-outset":!0,"border-image-slice":!0,"border-image-width":!0,"box-flex":!0,"box-flex-group":!0,"box-ordinal-group":!0,"column-count":!0,columns:!0,"counter-increment":!0,"counter-reset":!0,flex:!0,"flex-grow":!0,"flex-positive":!0,"flex-shrink":!0,"flex-negative":!0,"flex-order":!0,"font-weight":!0,"grid-area":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-span":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-span":!0,"grid-row-start":!0,"line-clamp":!0,"line-height":!0,opacity:!0,order:!0,orphans:!0,"tab-size":!0,widows:!0,"z-index":!0,zoom:!0,"fill-opacity":!0,"flood-opacity":!0,"stop-opacity":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-miterlimit":!0,"stroke-opacity":!0,"stroke-width":!0},c=0,l=Object.keys(u);c<l.length;c++)for(var f=l[c],d=0,p=["-webkit-","-ms-","-moz-","-o-",""];d<p.length;d++){u[p[d]+f]=!0}function h(e){return e.replace(t,s).replace(r,"-ms-")}function y(e){for(var t=5381,r=e.length;r--;)t=33*t^e.charCodeAt(r);return(t>>>0).toString(36)}function m(e,t){return"number"!=typeof t||0===t||u.hasOwnProperty(e)?e+":"+t:e+":"+t+"px"}function v(e){return e.sort(function(e,t){return e[0]>t[0]?1:-1})}function b(e,t){for(var r=[],n=[],o=!1,a=0,i=Object.keys(e);a<i.length;a++){var s=i[a],u=e[s];null!=u&&(s===M.IS_UNIQUE?o=!0:"object"!=typeof u||Array.isArray(u)?r.push([h(s.trim()),u]):n.push([s.trim(),u]))}return{style:function(e){return e.map(function(e){var t=e[0],r=e[1];return Array.isArray(r)?r.map(function(e){return m(t,e)}).join(";"):m(t,r)}).join(";")}(v(r)),nested:t?n:v(n),isUnique:o}}function E(e,t){return-1===e.indexOf("&")?t+" "+e:e.replace(a,t)}function w(e,t,r,n,o){var a=b(t,""!==e),i=a.style,s=a.nested,u=a.isUnique,c=i;if(64===e.charCodeAt(0)){var l={selector:e,styles:[],rules:[],style:o?"":i};r.push(l),i&&o&&l.styles.push({selector:o,style:i,isUnique:u});for(var f=0,d=s;f<d.length;f++){var p=d[f];c+=(v=p[0])+w(v,p[1],l.rules,l.styles,o)}}else{var h=o?E(e,o):e;i&&n.push({selector:h,style:i,isUnique:u});for(var y=0,m=s;y<m.length;y++){var v,g=m[y];c+=(v=g[0])+w(v,g[1],r,n,h)}}return c}function x(e,t,r,n,o,a){for(var i=0,s=n;i<s.length;i++){var u=s[i],c=u.selector,l=u.style,f=u.isUnique,d=a?E(c,o):c,p=f?"u\0"+(++_).toString(36):"s\0"+t+"\0"+l;(m=new I(l,p)).add(new R(d,"k\0"+t+"\0"+d)),e.add(m)}for(var h=0,y=r;h<y.length;h++){var m,v=y[h],g=(c=v.selector,l=v.style,v.rules),b=v.styles;x(m=new O(c,l,"r\0"+t+"\0"+c+"\0"+l),t,g,b,o,a),e.add(m)}}function g(e){for(var t="",r=0;r<e.length;r++)t+=e[r];return t}M.escape=function(e){return e.replace(i,"\\$&")},M.hyphenate=h,M.stringHash=y;var A={add:function(){},change:function(){},remove:function(){}},T=(F.prototype.add=function(e){var t=this._counters[e.id]||0,r=this._children[e.id]||e.clone();if(this._counters[e.id]=t+1,0===t)this._children[r.id]=r,this._keys.push(r.id),this.sheet.push(r.getStyles()),this.changeId++,this.changes.add(r,this._keys.length-1);else if(r instanceof F&&e instanceof F){var n=this._keys.indexOf(e.id),o=r.changeId;r.merge(e),r.changeId!==o&&(this.sheet.splice(n,1,r.getStyles()),this.changeId++,this.changes.change(r,n,n))}return r},F.prototype.remove=function(e){var t=this._counters[e.id];if(void 0!==t&&0<t){this._counters[e.id]=t-1;var r=this._children[e.id],n=this._keys.indexOf(r.id);if(1===t)delete this._counters[e.id],delete this._children[e.id],this._keys.splice(n,1),this.sheet.splice(n,1),this.changeId++,this.changes.remove(r,n);else if(r instanceof F&&e instanceof F){var o=r.changeId;r.unmerge(e),r.changeId!==o&&(this.sheet.splice(n,1,r.getStyles()),this.changeId++,this.changes.change(r,n,n))}}},F.prototype.values=function(){var t=this;return this._keys.map(function(e){return t._children[e]})},F.prototype.merge=function(e){for(var t=0,r=e.values();t<r.length;t++){var n=r[t];this.add(n)}return this},F.prototype.unmerge=function(e){for(var t=0,r=e.values();t<r.length;t++){var n=r[t];this.remove(n)}return this},F.prototype.clone=function(){return(new F).merge(this)},F);function F(e){void 0===e&&(e=A),this.changes=e,this.sheet=[],this.changeId=0,this._keys=[],this._children=Object.create(null),this._counters=Object.create(null)}M.Cache=T;var R=(S.prototype.getStyles=function(){return this.selector},S.prototype.clone=function(){return new S(this.selector,this.id)},S);function S(e,t){this.selector=e,this.id=t}M.Selector=R;var P,I=(e(C,P=T),C.prototype.getStyles=function(){return this.sheet.join(",")+"{"+this.style+"}"},C.prototype.clone=function(){return new C(this.style,this.id).merge(this)},C);function C(e,t){var r=P.call(this)||this;return r.style=e,r.id=t,r}M.Style=I;var k,O=(e(j,k=T),j.prototype.getStyles=function(){return this.rule+"{"+this.style+g(this.sheet)+"}"},j.prototype.clone=function(){return new j(this.rule,this.style,this.id).merge(this)},j);function j(e,t,r){var n=k.call(this)||this;return n.rule=e,n.style=t,n.id=r,n}M.Rule=O;var B,U=(e(N,B=T),N.prototype.registerStyle=function(e,t){var r=[],n=[],o=w("&",e,r,n),a="f"+this.hash(o),i=this.debug&&t?t+"_"+a:a;return x(this,o,r,n,"."+M.escape(i),!0),i},N.prototype.registerKeyframes=function(e,t){return this.registerHashRule("@keyframes",e,t)},N.prototype.registerHashRule=function(e,t,r){var n=[],o=[],a=w("",t,n,o),i="f"+this.hash(a),s=this.debug&&r?r+"_"+i:i,u=new O(e+" "+M.escape(s),"","h\0"+a+"\0"+e);return x(u,a,n,o,"",!1),this.add(u),s},N.prototype.registerRule=function(e,t){var r=[],n=[];x(this,w(e,t,r,n),r,n,"",!1)},N.prototype.registerCss=function(e){return this.registerRule("",e)},N.prototype.getStyles=function(){return g(this.sheet)},N.prototype.clone=function(){return new N(this.hash,this.debug,this.id,this.changes).merge(this)},N);function N(e,t,r,n){var o=B.call(this,n)||this;return o.hash=e,o.debug=t,o.id=r,o}M.FreeStyle=U,M.create=function(e,t,r){return void 0===e&&(e=y),void 0===t&&(t=void 0!==n&&"production"!==n.env.NODE_ENV),void 0===r&&(r=A),new U(e,t,"f"+(++_).toString(36),r)}}).call(this,e("_process"))},{_process:11}],9:[function(f,t,r){(function(n){!function(e){if("object"==typeof r&&void 0!==t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).localforage=e()}}(function(){return function a(i,s,u){function c(r,e){if(!s[r]){if(!i[r]){var t="function"==typeof f&&f;if(!e&&t)return t(r,!0);if(l)return l(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var o=s[r]={exports:{}};i[r][0].call(o.exports,function(e){var t=i[r][1][e];return c(t||e)},o,o.exports,a,i,s,u)}return s[r].exports}for(var l="function"==typeof f&&f,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,l,t){(function(t){"use strict";var r,n,e=t.MutationObserver||t.WebKitMutationObserver;if(e){var o=0,a=new e(c),i=t.document.createTextNode("");a.observe(i,{characterData:!0}),r=function(){i.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)r="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){c(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(c,0)};else{var s=new t.MessageChannel;s.port1.onmessage=c,r=function(){s.port2.postMessage(0)}}var u=[];function c(){var e,t;n=!0;for(var r=u.length;r;){for(t=u,u=[],e=-1;++e<r;)t[e]();r=u.length}n=!1}l.exports=function(e){1!==u.push(e)||n||r()}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){"use strict";var o=e(1);function c(){}var l={},a=["REJECTED"],i=["FULFILLED"],n=["PENDING"];function s(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=n,this.queue=[],this.outcome=void 0,e!==c&&p(this,e)}function u(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(t,r,n){o(function(){var e;try{e=r(n)}catch(e){return l.reject(t,e)}e===t?l.reject(t,new TypeError("Cannot resolve promise with itself")):l.resolve(t,e)})}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(t,e){var r=!1;function n(e){r||(r=!0,l.reject(t,e))}function o(e){r||(r=!0,l.resolve(t,e))}var a=h(function(){e(o,n)});"error"===a.status&&n(a.value)}function h(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}(t.exports=s).prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){if("function"!=typeof e&&this.state===i||"function"!=typeof t&&this.state===a)return this;var r=new this.constructor(c);this.state!==n?f(r,this.state===i?e:t,this.outcome):this.queue.push(new u(r,e,t));return r},u.prototype.callFulfilled=function(e){l.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){l.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},l.resolve=function(e,t){var r=h(d,t);if("error"===r.status)return l.reject(e,r.value);var n=r.value;if(n)p(e,n);else{e.state=i,e.outcome=t;for(var o=-1,a=e.queue.length;++o<a;)e.queue[o].callFulfilled(t)}return e},l.reject=function(e,t){e.state=a,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},s.resolve=function(e){if(e instanceof this)return e;return l.resolve(new this(c),e)},s.reject=function(e){var t=new this(c);return l.reject(t,e)},s.all=function(e){var r=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);var a=new Array(n),i=0,t=-1,s=new this(c);for(;++t<n;)u(e[t],t);return s;function u(e,t){r.resolve(e).then(function(e){a[t]=e,++i!==n||o||(o=!0,l.resolve(s,a))},function(e){o||(o=!0,l.reject(s,e))})}},s.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);var o=-1,a=new this(c);for(;++o<r;)i=e[o],t.resolve(i).then(function(e){n||(n=!0,l.resolve(a,e))},function(e){n||(n=!0,l.reject(a,e))});var i;return a}},{1:1}],3:[function(t,e,r){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var s=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function i(t,r){t=t||[],r=r||{};try{return new Blob(t,r)}catch(e){if("TypeError"!==e.name)throw e;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),o=0;o<t.length;o+=1)n.append(t[o]);return n.getBlob(r.type)}}"undefined"==typeof Promise&&e(3);var f=Promise;function d(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function u(e,t,r){"function"==typeof t&&e.then(t),"function"==typeof r&&e.catch(r)}function p(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function a(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var c="local-forage-detect-blob-support",o=void 0,l={},h=Object.prototype.toString,y="readonly",m="readwrite";function v(e){return"boolean"==typeof o?f.resolve(o):function(n){return new f(function(r){var e=n.transaction(c,m),t=i([""]);e.objectStore(c).put(t,"key"),e.onabort=function(e){e.preventDefault(),e.stopPropagation(),r(!1)},e.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),t=navigator.userAgent.match(/Edge\//);r(t||!e||43<=parseInt(e[1],10))}}).catch(function(){return!1})}(e).then(function(e){return o=e})}function g(e){var t=l[e.name],r={};r.promise=new f(function(e,t){r.resolve=e,r.reject=t}),t.deferredOperations.push(r),t.dbReady?t.dbReady=t.dbReady.then(function(){return r.promise}):t.dbReady=r.promise}function b(e){var t=l[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function _(e,t){var r=l[e.name].deferredOperations.pop();if(r)return r.reject(t),r.promise}function E(o,a){return new f(function(e,t){if(l[o.name]=l[o.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},o.db){if(!a)return e(o.db);g(o),o.db.close()}var r=[o.name];a&&r.push(o.version);var n=s.open.apply(s,r);a&&(n.onupgradeneeded=function(t){var e=n.result;try{e.createObjectStore(o.storeName),t.oldVersion<=1&&e.createObjectStore(c)}catch(e){if("ConstraintError"!==e.name)throw e;console.warn('The database "'+o.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+o.storeName+'" already exists.')}}),n.onerror=function(e){e.preventDefault(),t(n.error)},n.onsuccess=function(){e(n.result),b(o)}})}function w(e){return E(e,!1)}function x(e){return E(e,!0)}function A(e,t){if(!e.db)return!0;var r=!e.db.objectStoreNames.contains(e.storeName),n=e.version<e.db.version,o=e.version>e.db.version;if(n&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||r){if(r){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function T(e){return i([function(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),o=0;o<t;o++)n[o]=e.charCodeAt(o);return r}(atob(e.data))],{type:e.type})}function F(e){return e&&e.__local_forage_encoded_blob}function R(e){var t=this,r=t._initReady().then(function(){var e=l[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return u(r,e,e),r}function S(t,r,n,o){void 0===o&&(o=1);try{var e=t.db.transaction(t.storeName,r);n(null,e)}catch(e){if(0<o&&(!t.db||"InvalidStateError"===e.name||"NotFoundError"===e.name))return f.resolve().then(function(){if(!t.db||"NotFoundError"===e.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),x(t)}).then(function(){return function(r){g(r);for(var n=l[r.name],o=n.forages,e=0;e<o.length;e++){var t=o[e];t._dbInfo.db&&(t._dbInfo.db.close(),t._dbInfo.db=null)}return r.db=null,w(r).then(function(e){return r.db=e,A(r)?x(r):e}).then(function(e){r.db=n.db=e;for(var t=0;t<o.length;t++)o[t]._dbInfo.db=e}).catch(function(e){throw _(r,e),e})}(t).then(function(){S(t,r,n,o-1)})}).catch(n);n(e)}}var P={_driver:"asyncStorage",_initStorage:function(e){var n=this,o={db:null};if(e)for(var t in e)o[t]=e[t];var a=l[o.name];a||(a={forages:[],db:null,dbReady:null,deferredOperations:[]},l[o.name]=a),a.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=R);var r=[];function i(){return f.resolve()}for(var s=0;s<a.forages.length;s++){var u=a.forages[s];u!==n&&r.push(u._initReady().catch(i))}var c=a.forages.slice(0);return f.all(r).then(function(){return o.db=a.db,w(o)}).then(function(e){return o.db=e,A(o,n._defaultConfig.version)?x(o):e}).then(function(e){o.db=a.db=e,n._dbInfo=o;for(var t=0;t<c.length;t++){var r=c[t];r!==n&&(r._dbInfo.db=o.db,r._dbInfo.version=o.version)}})},_support:function(){try{if(!s)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(i,e){var s=this,t=new f(function(a,r){s.ready().then(function(){S(s._dbInfo,y,function(e,t){if(e)return r(e);try{var n=t.objectStore(s._dbInfo.storeName).openCursor(),o=1;n.onsuccess=function(){var e=n.result;if(e){var t=e.value;F(t)&&(t=T(t));var r=i(t,e.key,o++);void 0!==r?a(r):e.continue()}else a()},n.onerror=function(){r(n.error)}}catch(e){r(e)}})}).catch(r)});return d(t,e),t},getItem:function(a,e){var i=this;a=p(a);var t=new f(function(n,o){i.ready().then(function(){S(i._dbInfo,y,function(e,t){if(e)return o(e);try{var r=t.objectStore(i._dbInfo.storeName).get(a);r.onsuccess=function(){var e=r.result;void 0===e&&(e=null),F(e)&&(e=T(e)),n(e)},r.onerror=function(){o(r.error)}}catch(e){o(e)}})}).catch(o)});return d(t,e),t},setItem:function(s,t,e){var u=this;s=p(s);var r=new f(function(a,i){var e;u.ready().then(function(){return e=u._dbInfo,"[object Blob]"===h.call(t)?v(e.db).then(function(e){return e?t:function(n){return new f(function(r,e){var t=new FileReader;t.onerror=e,t.onloadend=function(e){var t=btoa(e.target.result||"");r({__local_forage_encoded_blob:!0,data:t,type:n.type})},t.readAsBinaryString(n)})}(t)}):t}).then(function(o){S(u._dbInfo,m,function(e,t){if(e)return i(e);try{var r=t.objectStore(u._dbInfo.storeName);null===o&&(o=void 0);var n=r.put(o,s);t.oncomplete=function(){void 0===o&&(o=null),a(o)},t.onabort=t.onerror=function(){var e=n.error?n.error:n.transaction.error;i(e)}}catch(e){i(e)}})}).catch(i)});return d(r,e),r},removeItem:function(a,e){var i=this;a=p(a);var t=new f(function(n,o){i.ready().then(function(){S(i._dbInfo,m,function(e,t){if(e)return o(e);try{var r=t.objectStore(i._dbInfo.storeName).delete(a);t.oncomplete=function(){n()},t.onerror=function(){o(r.error)},t.onabort=function(){var e=r.error?r.error:r.transaction.error;o(e)}}catch(e){o(e)}})}).catch(o)});return d(t,e),t},clear:function(e){var a=this,t=new f(function(n,o){a.ready().then(function(){S(a._dbInfo,m,function(e,t){if(e)return o(e);try{var r=t.objectStore(a._dbInfo.storeName).clear();t.oncomplete=function(){n()},t.onabort=t.onerror=function(){var e=r.error?r.error:r.transaction.error;o(e)}}catch(e){o(e)}})}).catch(o)});return d(t,e),t},length:function(e){var a=this,t=new f(function(n,o){a.ready().then(function(){S(a._dbInfo,y,function(e,t){if(e)return o(e);try{var r=t.objectStore(a._dbInfo.storeName).count();r.onsuccess=function(){n(r.result)},r.onerror=function(){o(r.error)}}catch(e){o(e)}})}).catch(o)});return d(t,e),t},key:function(s,e){var u=this,t=new f(function(a,i){s<0?a(null):u.ready().then(function(){S(u._dbInfo,y,function(e,t){if(e)return i(e);try{var r=t.objectStore(u._dbInfo.storeName),n=!1,o=r.openCursor();o.onsuccess=function(){var e=o.result;e?0===s?a(e.key):n?a(e.key):(n=!0,e.advance(s)):a(null)},o.onerror=function(){i(o.error)}}catch(e){i(e)}})}).catch(i)});return d(t,e),t},keys:function(e){var i=this,t=new f(function(o,a){i.ready().then(function(){S(i._dbInfo,y,function(e,t){if(e)return a(e);try{var r=t.objectStore(i._dbInfo.storeName).openCursor(),n=[];r.onsuccess=function(){var e=r.result;e?(n.push(e.key),e.continue()):o(n)},r.onerror=function(){a(r.error)}}catch(e){a(e)}})}).catch(a)});return d(t,e),t},dropInstance:function(i,e){e=a.apply(this,arguments);var t,r=this.config();if((i="function"!=typeof i&&i||{}).name||(i.name=i.name||r.name,i.storeName=i.storeName||r.storeName),i.name){var n=i.name===r.name&&this._dbInfo.db?f.resolve(this._dbInfo.db):w(i).then(function(e){var t=l[i.name],r=t.forages;t.db=e;for(var n=0;n<r.length;n++)r[n]._dbInfo.db=e;return e});t=i.storeName?n.then(function(e){if(e.objectStoreNames.contains(i.storeName)){var o=e.version+1;g(i);var n=l[i.name],a=n.forages;e.close();for(var t=0;t<a.length;t++){var r=a[t];r._dbInfo.db=null,r._dbInfo.version=o}return new f(function(t,r){var n=s.open(i.name,o);n.onerror=function(e){n.result.close(),r(e)},n.onupgradeneeded=function(){n.result.deleteObjectStore(i.storeName)},n.onsuccess=function(){var e=n.result;e.close(),t(e)}}).then(function(e){n.db=e;for(var t=0;t<a.length;t++){var r=a[t];r._dbInfo.db=e,b(r._dbInfo)}}).catch(function(e){throw(_(i,e)||f.resolve()).catch(function(){}),e})}}):n.then(function(e){g(i);var r=l[i.name],n=r.forages;e.close();for(var t=0;t<n.length;t++){n[t]._dbInfo.db=null}return new f(function(t,r){var n=s.deleteDatabase(i.name);n.onerror=n.onblocked=function(e){var t=n.result;t&&t.close(),r(e)},n.onsuccess=function(){var e=n.result;e&&e.close(),t(e)}}).then(function(e){r.db=e;for(var t=0;t<n.length;t++){b(n[t]._dbInfo)}}).catch(function(e){throw(_(i,e)||f.resolve()).catch(function(){}),e})})}else t=f.reject("Invalid arguments");return d(t,e),t}};var I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=/^~~local_forage_type~([^~]+)~/,k="__lfsc__:",O=k.length,j="arbf",B="blob",U=O+j.length,N=Object.prototype.toString;function M(e){var t,r,n,o,a,i=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var c=new ArrayBuffer(i),l=new Uint8Array(c);for(t=0;t<s;t+=4)r=I.indexOf(e[t]),n=I.indexOf(e[t+1]),o=I.indexOf(e[t+2]),a=I.indexOf(e[t+3]),l[u++]=r<<2|n>>4,l[u++]=(15&n)<<4|o>>2,l[u++]=(3&o)<<6|63&a;return c}function L(e){var t,r=new Uint8Array(e),n="";for(t=0;t<r.length;t+=3)n+=I[r[t]>>2],n+=I[(3&r[t])<<4|r[t+1]>>4],n+=I[(15&r[t+1])<<2|r[t+2]>>6],n+=I[63&r[t+2]];return r.length%3==2?n=n.substring(0,n.length-1)+"=":r.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}var D={serialize:function(t,r){var e="";if(t&&(e=N.call(t)),t&&("[object ArrayBuffer]"===e||t.buffer&&"[object ArrayBuffer]"===N.call(t.buffer))){var n,o=k;t instanceof ArrayBuffer?(n=t,o+=j):(n=t.buffer,"[object Int8Array]"===e?o+="si08":"[object Uint8Array]"===e?o+="ui08":"[object Uint8ClampedArray]"===e?o+="uic8":"[object Int16Array]"===e?o+="si16":"[object Uint16Array]"===e?o+="ur16":"[object Int32Array]"===e?o+="si32":"[object Uint32Array]"===e?o+="ui32":"[object Float32Array]"===e?o+="fl32":"[object Float64Array]"===e?o+="fl64":r(new Error("Failed to get type for BinaryArray"))),r(o+L(n))}else if("[object Blob]"===e){var a=new FileReader;a.onload=function(){var e="~~local_forage_type~"+t.type+"~"+L(this.result);r(k+B+e)},a.readAsArrayBuffer(t)}else try{r(JSON.stringify(t))}catch(e){console.error("Couldn't convert value into a JSON string: ",t),r(null,e)}},deserialize:function(e){if(e.substring(0,O)!==k)return JSON.parse(e);var t,r=e.substring(U),n=e.substring(O,U);if(n===B&&C.test(r)){var o=r.match(C);t=o[1],r=r.substring(o[0].length)}var a=M(r);switch(n){case j:return a;case B:return i([a],{type:t});case"si08":return new Int8Array(a);case"ui08":return new Uint8Array(a);case"uic8":return new Uint8ClampedArray(a);case"si16":return new Int16Array(a);case"ur16":return new Uint16Array(a);case"si32":return new Int32Array(a);case"ui32":return new Uint32Array(a);case"fl32":return new Float32Array(a);case"fl64":return new Float64Array(a);default:throw new Error("Unkown type: "+n)}},stringToBuffer:M,bufferToString:L};function z(e,t,r,n){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,n)}function G(e,n,o,a,i,s){e.executeSql(o,a,i,function(e,r){r.code===r.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function(e,t){t.rows.length?s(e,r):z(e,n,function(){e.executeSql(o,a,i,s)},s)},s):s(e,r)},s)}var W={_driver:"webSQLStorage",_initStorage:function(e){var n=this,o={db:null};if(e)for(var t in e)o[t]="string"!=typeof e[t]?e[t].toString():e[t];var r=new f(function(t,r){try{o.db=openDatabase(o.name,String(o.version),o.description,o.size)}catch(e){return r(e)}o.db.transaction(function(e){z(e,o,function(){n._dbInfo=o,t()},function(e,t){r(t)})},r)});return o.serializer=D,r},_support:"function"==typeof openDatabase,iterate:function(c,e){var t=this,r=new f(function(u,r){t.ready().then(function(){var s=t._dbInfo;s.db.transaction(function(e){G(e,s,"SELECT * FROM "+s.storeName,[],function(e,t){for(var r=t.rows,n=r.length,o=0;o<n;o++){var a=r.item(o),i=a.value;if(i=i&&s.serializer.deserialize(i),void 0!==(i=c(i,a.key,o+1)))return void u(i)}u()},function(e,t){r(t)})})}).catch(r)});return d(r,e),r},getItem:function(t,e){var a=this;t=p(t);var r=new f(function(o,r){a.ready().then(function(){var n=a._dbInfo;n.db.transaction(function(e){G(e,n,"SELECT * FROM "+n.storeName+" WHERE key = ? LIMIT 1",[t],function(e,t){var r=t.rows.length?t.rows.item(0).value:null;r=r&&n.serializer.deserialize(r),o(r)},function(e,t){r(t)})})}).catch(r)});return d(r,e),r},setItem:function(e,t,r){return function i(s,e,u,c){var l=this;s=p(s);var t=new f(function(o,a){l.ready().then(function(){void 0===e&&(e=null);var r=e,n=l._dbInfo;n.serializer.serialize(e,function(t,e){e?a(e):n.db.transaction(function(e){G(e,n,"INSERT OR REPLACE INTO "+n.storeName+" (key, value) VALUES (?, ?)",[s,t],function(){o(r)},function(e,t){a(t)})},function(e){if(e.code===e.QUOTA_ERR){if(0<c)return void o(i.apply(l,[s,r,u,c-1]));a(e)}})})}).catch(a)});return d(t,u),t}.apply(this,[e,t,r,1])},removeItem:function(o,e){var a=this;o=p(o);var t=new f(function(r,n){a.ready().then(function(){var t=a._dbInfo;t.db.transaction(function(e){G(e,t,"DELETE FROM "+t.storeName+" WHERE key = ?",[o],function(){r()},function(e,t){n(t)})})}).catch(n)});return d(t,e),t},clear:function(e){var o=this,t=new f(function(r,n){o.ready().then(function(){var t=o._dbInfo;t.db.transaction(function(e){G(e,t,"DELETE FROM "+t.storeName,[],function(){r()},function(e,t){n(t)})})}).catch(n)});return d(t,e),t},length:function(e){var o=this,t=new f(function(n,r){o.ready().then(function(){var t=o._dbInfo;t.db.transaction(function(e){G(e,t,"SELECT COUNT(key) as c FROM "+t.storeName,[],function(e,t){var r=t.rows.item(0).c;n(r)},function(e,t){r(t)})})}).catch(r)});return d(t,e),t},key:function(o,e){var a=this,t=new f(function(n,r){a.ready().then(function(){var t=a._dbInfo;t.db.transaction(function(e){G(e,t,"SELECT key FROM "+t.storeName+" WHERE id = ? LIMIT 1",[o+1],function(e,t){var r=t.rows.length?t.rows.item(0).key:null;n(r)},function(e,t){r(t)})})}).catch(r)});return d(t,e),t},keys:function(e){var n=this,t=new f(function(o,r){n.ready().then(function(){var t=n._dbInfo;t.db.transaction(function(e){G(e,t,"SELECT key FROM "+t.storeName,[],function(e,t){for(var r=[],n=0;n<t.rows.length;n++)r.push(t.rows.item(n).key);o(r)},function(e,t){r(t)})})}).catch(r)});return d(t,e),t},dropInstance:function(r,e){e=a.apply(this,arguments);var n=this.config();(r="function"!=typeof r&&r||{}).name||(r.name=r.name||n.name,r.storeName=r.storeName||n.storeName);var t,o=this;return d(t=r.name?new f(function(e){var t;t=r.name===n.name?o._dbInfo.db:openDatabase(r.name,"","",0),r.storeName?e({db:t,storeNames:[r.storeName]}):e(function(a){return new f(function(o,r){a.transaction(function(e){e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(e,t){for(var r=[],n=0;n<t.rows.length;n++)r.push(t.rows.item(n).name);o({db:a,storeNames:r})},function(e,t){r(t)})},function(e){r(e)})})}(t))}).then(function(s){return new f(function(a,i){s.db.transaction(function(n){function e(t){return new f(function(e,r){n.executeSql("DROP TABLE IF EXISTS "+t,[],function(){e()},function(e,t){r(t)})})}for(var t=[],r=0,o=s.storeNames.length;r<o;r++)t.push(e(s.storeNames[r]));f.all(t).then(function(){a()}).catch(function(e){i(e)})},function(e){i(e)})})}):f.reject("Invalid arguments"),e),t}};function X(e,t){var r=e.name+"/";return e.storeName!==t.storeName&&(r+=e.storeName+"/"),r}function H(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||0<localStorage.length}function V(e,t){for(var r,n,o=e.length,a=0;a<o;){if((r=e[a])===(n=t)||"number"==typeof r&&"number"==typeof n&&isNaN(r)&&isNaN(n))return!0;a++}return!1}var K={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var r in e)t[r]=e[r];return t.keyPrefix=X(e,this._defaultConfig),H()?((this._dbInfo=t).serializer=D,f.resolve()):f.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(u,e){var c=this,t=c.ready().then(function(){for(var e=c._dbInfo,t=e.keyPrefix,r=t.length,n=localStorage.length,o=1,a=0;a<n;a++){var i=localStorage.key(a);if(0===i.indexOf(t)){var s=localStorage.getItem(i);if(s=s&&e.serializer.deserialize(s),void 0!==(s=u(s,i.substring(r),o++)))return s}}});return d(t,e),t},getItem:function(r,e){var n=this;r=p(r);var t=n.ready().then(function(){var e=n._dbInfo,t=localStorage.getItem(e.keyPrefix+r);return t=t&&e.serializer.deserialize(t)});return d(t,e),t},setItem:function(i,e,t){var s=this;i=p(i);var r=s.ready().then(function(){void 0===e&&(e=null);var a=e;return new f(function(r,n){var o=s._dbInfo;o.serializer.serialize(e,function(e,t){if(t)n(t);else try{localStorage.setItem(o.keyPrefix+i,e),r(a)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||n(e),n(e)}})})});return d(r,t),r},removeItem:function(t,e){var r=this;t=p(t);var n=r.ready().then(function(){var e=r._dbInfo;localStorage.removeItem(e.keyPrefix+t)});return d(n,e),n},clear:function(e){var n=this,t=n.ready().then(function(){for(var e=n._dbInfo.keyPrefix,t=localStorage.length-1;0<=t;t--){var r=localStorage.key(t);0===r.indexOf(e)&&localStorage.removeItem(r)}});return d(t,e),t},length:function(e){var t=this.keys().then(function(e){return e.length});return d(t,e),t},key:function(r,e){var n=this,t=n.ready().then(function(){var t,e=n._dbInfo;try{t=localStorage.key(r)}catch(e){t=null}return t=t&&t.substring(e.keyPrefix.length)});return d(t,e),t},keys:function(e){var a=this,t=a.ready().then(function(){for(var e=a._dbInfo,t=localStorage.length,r=[],n=0;n<t;n++){var o=localStorage.key(n);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r});return d(t,e),t},dropInstance:function(t,e){if(e=a.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var r=this.config();t.name=t.name||r.name,t.storeName=t.storeName||r.storeName}var n,o=this;return d(n=t.name?new f(function(e){t.storeName?e(X(t,o._defaultConfig)):e(t.name+"/")}).then(function(e){for(var t=localStorage.length-1;0<=t;t--){var r=localStorage.key(t);0===r.indexOf(e)&&localStorage.removeItem(r)}}):f.reject("Invalid arguments"),e),n}},Y=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},q={},$={},Z={INDEXEDDB:P,WEBSQL:W,LOCALSTORAGE:K},Q=[Z.INDEXEDDB._driver,Z.WEBSQL._driver,Z.LOCALSTORAGE._driver],J=["dropInstance"],ee=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(J),te={description:"",driver:Q.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function re(t,r){t[r]=function(){var e=arguments;return t.ready().then(function(){return t[r].apply(t,e)})}}function ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];if(r)for(var n in r)r.hasOwnProperty(n)&&(Y(r[n])?e[n]=r[n].slice():e[n]=r[n])}return e}function oe(e){for(var t in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,oe),Z)if(Z.hasOwnProperty(t)){var r=Z[t],n=r._driver;this[t]=n,q[n]||this.defineDriver(r)}this._defaultConfig=ne({},te),this._config=ne({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}var ae=new(oe.prototype.config=function(e){if("object"!==(void 0===e?"undefined":n(e)))return"string"==typeof e?this._config[e]:this._config;if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)},oe.prototype.defineDriver=function(c,e,t){var r=new f(function(t,r){try{var n=c._driver,e=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!c._driver)return void r(e);for(var o=ee.concat("_initStorage"),a=0,i=o.length;a<i;a++){var s=o[a];if((!V(J,s)||c[s])&&"function"!=typeof c[s])return void r(e)}!function(){for(var e=function(r){return function(){var e=new Error("Method "+r+" is not implemented by the current driver"),t=f.reject(e);return d(t,arguments[arguments.length-1]),t}},t=0,r=J.length;t<r;t++){var n=J[t];c[n]||(c[n]=e(n))}}();var u=function(e){q[n]&&console.info("Redefining LocalForage driver: "+n),q[n]=c,$[n]=e,t()};"_support"in c?c._support&&"function"==typeof c._support?c._support().then(u,r):u(!!c._support):u(!0)}catch(e){r(e)}});return u(r,e,t),r},oe.prototype.driver=function(){return this._driver||null},oe.prototype.getDriver=function(e,t,r){var n=q[e]?f.resolve(q[e]):f.reject(new Error("Driver not found."));return u(n,t,r),n},oe.prototype.getSerializer=function(e){var t=f.resolve(D);return u(t,e),t},oe.prototype.ready=function(e){var t=this,r=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return u(r,e,e),r},oe.prototype.setDriver=function(e,t,r){var a=this;Y(e)||(e=[e]);var n=this._getSupportedDrivers(e);function i(){a._config.driver=a.driver()}function s(e){return a._extend(e),i(),a._ready=a._initStorage(a._config),a._ready}var o=null!==this._driverSet?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=o.then(function(){var e=n[0];return a._dbInfo=null,a._ready=null,a.getDriver(e).then(function(e){a._driver=e._driver,i(),a._wrapLibraryMethodsWithReady(),a._initDriver=function(o){return function(){var n=0;return function e(){for(;n<o.length;){var t=o[n];return n++,a._dbInfo=null,a._ready=null,a.getDriver(t).then(s).catch(e)}i();var r=new Error("No available storage method found.");return a._driverSet=f.reject(r),a._driverSet}()}}(n)})}).catch(function(){i();var e=new Error("No available storage method found.");return a._driverSet=f.reject(e),a._driverSet}),u(this._driverSet,t,r),this._driverSet},oe.prototype.supports=function(e){return!!$[e]},oe.prototype._extend=function(e){ne(this,e)},oe.prototype._getSupportedDrivers=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var o=e[r];this.supports(o)&&t.push(o)}return t},oe.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=ee.length;e<t;e++)re(this,ee[e])},oe.prototype.createInstance=function(e){return new oe(e)},oe);t.exports=ae},{3:3}]},{},[4])(4)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(e,t,r){(function(e){var c=function(c){var l=/\blang(?:uage)?-([\w-]+)\b/i,t=0,C={manual:c.Prism&&c.Prism.manual,disableWorkerMessageHandler:c.Prism&&c.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof k?new k(e.type,C.util.encode(e.content),e.alias):Array.isArray(e)?e.map(C.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function r(e,n){var o,t,a=C.util.type(e);switch(n=n||{},a){case"Object":if(t=C.util.objId(e),n[t])return n[t];for(var i in o={},n[t]=o,e)e.hasOwnProperty(i)&&(o[i]=r(e[i],n));return o;case"Array":return t=C.util.objId(e),n[t]?n[t]:(o=[],n[t]=o,e.forEach(function(e,t){o[t]=r(e,n)}),o);default:return e}}},languages:{extend:function(e,t){var r=C.util.clone(C.languages[e]);for(var n in t)r[n]=t[n];return r},insertBefore:function(r,e,t,n){var o=(n=n||C.languages)[r],a={};for(var i in o)if(o.hasOwnProperty(i)){if(i==e)for(var s in t)t.hasOwnProperty(s)&&(a[s]=t[s]);t.hasOwnProperty(i)||(a[i]=o[i])}var u=n[r];return n[r]=a,C.languages.DFS(C.languages,function(e,t){t===u&&e!=r&&(this[e]=a)}),a},DFS:function e(t,r,n,o){o=o||{};var a=C.util.objId;for(var i in t)if(t.hasOwnProperty(i)){r.call(t,i,t[i],n||i);var s=t[i],u=C.util.type(s);"Object"!==u||o[a(s)]?"Array"!==u||o[a(s)]||(o[a(s)]=!0,e(s,r,i,o)):(o[a(s)]=!0,e(s,r,null,o))}}},plugins:{},highlightAll:function(e,t){C.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,r){var n={callback:r,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};C.hooks.run("before-highlightall",n);for(var o,a=n.elements||e.querySelectorAll(n.selector),i=0;o=a[i++];)C.highlightElement(o,!0===t,n.callback)},highlightElement:function(e,t,r){for(var n,o,a=e;a&&!l.test(a.className);)a=a.parentNode;a&&(n=(a.className.match(l)||[,""])[1].toLowerCase(),o=C.languages[n]),e.className=e.className.replace(l,"").replace(/\s+/g," ")+" language-"+n,e.parentNode&&(a=e.parentNode,/pre/i.test(a.nodeName)&&(a.className=a.className.replace(l,"").replace(/\s+/g," ")+" language-"+n));function i(e){s.highlightedCode=e,C.hooks.run("before-insert",s),s.element.innerHTML=s.highlightedCode,C.hooks.run("after-highlight",s),C.hooks.run("complete",s),r&&r.call(s.element)}var s={element:e,language:n,grammar:o,code:e.textContent};if(C.hooks.run("before-sanity-check",s),s.code)if(C.hooks.run("before-highlight",s),s.grammar)if(t&&c.Worker){var u=new Worker(C.filename);u.onmessage=function(e){i(e.data)},u.postMessage(JSON.stringify({language:s.language,code:s.code,immediateClose:!0}))}else i(C.highlight(s.code,s.grammar,s.language));else i(C.util.encode(s.code));else C.hooks.run("complete",s)},highlight:function(e,t,r){var n={code:e,grammar:t,language:r};return C.hooks.run("before-tokenize",n),n.tokens=C.tokenize(n.code,n.grammar),C.hooks.run("after-tokenize",n),k.stringify(C.util.encode(n.tokens),n.language)},matchGrammar:function(e,t,r,n,o,a,i){for(var s in r)if(r.hasOwnProperty(s)&&r[s]){if(s==i)return;var u=r[s];u="Array"===C.util.type(u)?u:[u];for(var c=0;c<u.length;++c){var l=u[c],f=l.inside,d=!!l.lookbehind,p=!!l.greedy,h=0,y=l.alias;if(p&&!l.pattern.global){var m=l.pattern.toString().match(/[imuy]*$/)[0];l.pattern=RegExp(l.pattern.source,m+"g")}l=l.pattern||l;for(var v=n,g=o;v<t.length;g+=t[v].length,++v){var b=t[v];if(t.length>e.length)return;if(!(b instanceof k)){if(p&&v!=t.length-1){if(l.lastIndex=g,!(T=l.exec(e)))break;for(var _=T.index+(d?T[1].length:0),E=T.index+T[0].length,w=v,x=g,A=t.length;w<A&&(x<E||!t[w].type&&!t[w-1].greedy);++w)(x+=t[w].length)<=_&&(++v,g=x);if(t[v]instanceof k)continue;F=w-v,b=e.slice(g,x),T.index-=g}else{l.lastIndex=0;var T=l.exec(b),F=1}if(T){d&&(h=T[1]?T[1].length:0);E=(_=T.index+h)+(T=T[0].slice(h)).length;var R=b.slice(0,_),S=b.slice(E),P=[v,F];R&&(++v,g+=R.length,P.push(R));var I=new k(s,f?C.tokenize(T,f):T,y,T,p);if(P.push(I),S&&P.push(S),Array.prototype.splice.apply(t,P),1!=F&&C.matchGrammar(e,t,r,v,g,!0,s),a)break}else if(a)break}}}}},tokenize:function(e,t){var r=[e],n=t.rest;if(n){for(var o in n)t[o]=n[o];delete t.rest}return C.matchGrammar(e,r,t,0,0,!1),r},hooks:{all:{},add:function(e,t){var r=C.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){var r=C.hooks.all[e];if(r&&r.length)for(var n,o=0;n=r[o++];)n(t)}},Token:k};function k(e,t,r,n,o){this.type=e,this.content=t,this.alias=r,this.length=0|(n||"").length,this.greedy=!!o}if(c.Prism=C,k.stringify=function(t,r,e){if("string"==typeof t)return t;if(Array.isArray(t))return t.map(function(e){return k.stringify(e,r,t)}).join("");var n={type:t.type,content:k.stringify(t.content,r,e),tag:"span",classes:["token",t.type],attributes:{},language:r,parent:e};if(t.alias){var o=Array.isArray(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(n.classes,o)}C.hooks.run("wrap",n);var a=Object.keys(n.attributes).map(function(e){return e+'="'+(n.attributes[e]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+n.tag+' class="'+n.classes.join(" ")+'"'+(a?" "+a:"")+">"+n.content+"</"+n.tag+">"},!c.document)return c.addEventListener&&(C.disableWorkerMessageHandler||c.addEventListener("message",function(e){var t=JSON.parse(e.data),r=t.language,n=t.code,o=t.immediateClose;c.postMessage(C.highlight(n,C.languages[r],r)),o&&c.close()},!1)),C;var e=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return e&&(C.filename=e.src,C.manual||e.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(C.highlightAll):window.setTimeout(C.highlightAll,16):document.addEventListener("DOMContentLoaded",C.highlightAll))),C}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});void 0!==t&&t.exports&&(t.exports=c),void 0!==e&&(e.Prism=c),c.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},c.languages.markup.tag.inside["attr-value"].inside.entity=c.languages.markup.entity,c.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(c.languages.markup.tag,"addInlined",{value:function(e,t){var r={};r["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:c.languages[t]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var n={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};n["language-"+t]={pattern:/[\s\S]+/,inside:c.languages[t]};var o={};o[e]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,e),"i"),lookbehind:!0,greedy:!0,inside:n},c.languages.insertBefore("markup","cdata",o)}}),c.languages.xml=c.languages.extend("markup",{}),c.languages.html=c.languages.markup,c.languages.mathml=c.languages.markup,c.languages.svg=c.languages.markup,function(e){var t=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?[\s\S]*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:RegExp("url\\((?:"+t.source+"|.*?)\\)","i"),selector:RegExp("[^{}\\s](?:[^{};\"']|"+t.source+")*?(?=\\s*\\{)"),string:{pattern:t,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var r=e.languages.markup;r&&(r.tag.addInlined("style","css"),e.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:r.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:e.languages.css}},alias:"language-css"}},r.tag))}(c),c.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},c.languages.javascript=c.languages.extend("clike",{"class-name":[c.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+)n?|\d+n|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),c.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,c.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:c.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:c.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:c.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:c.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),c.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${[^}]+}|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\${[^}]+}/,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:c.languages.javascript}},string:/[\s\S]+/}}}),c.languages.markup&&c.languages.markup.tag.addInlined("script","javascript"),c.languages.js=c.languages.javascript,"undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(e){e=e||document;var u={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(e.querySelectorAll("pre[data-src]")).forEach(function(e){if(!e.hasAttribute("data-src-loaded")){for(var t,r=e.getAttribute("data-src"),n=e,o=/\blang(?:uage)?-([\w-]+)\b/i;n&&!o.test(n.className);)n=n.parentNode;if(n&&(t=(e.className.match(o)||[,""])[1]),!t){var a=(r.match(/\.(\w+)$/)||[,""])[1];t=u[a]||a}var i=document.createElement("code");i.className="language-"+t,e.textContent="",i.textContent="Loading…",e.appendChild(i);var s=new XMLHttpRequest;s.open("GET",r,!0),s.onreadystatechange=function(){4==s.readyState&&(s.status<400&&s.responseText?(i.textContent=s.responseText,c.highlightElement(i),e.setAttribute("data-src-loaded","")):400<=s.status?i.textContent="✖ Error "+s.status+" while fetching file: "+s.statusText:i.textContent="✖ Error: File does not exist or is empty")},s.send(null)}}),c.plugins.toolbar&&c.plugins.toolbar.registerButton("download-file",function(e){var t=e.element.parentNode;if(t&&/pre/i.test(t.nodeName)&&t.hasAttribute("data-src")&&t.hasAttribute("data-download-link")){var r=t.getAttribute("data-src"),n=document.createElement("a");return n.textContent=t.getAttribute("data-download-link-label")||"Download",n.setAttribute("download",""),n.href=r,n}})},document.addEventListener("DOMContentLoaded",function(){self.Prism.fileHighlight()}))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(e,t,r){var n,o,a=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var c,l=[],f=!1,d=-1;function p(){f&&c&&(f=!1,c.length?l=c.concat(l):d=-1,l.length&&h())}function h(){if(!f){var e=u(p);f=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,f=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new y(e,t)),1!==l.length||f||u(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],12:[function(e,t,r){var n,o;n="undefined"!=typeof self?self:this,o=function(){return n={},o.m=r={"./src/attributes.js":function(e,t,r){"use strict";t.__esModule=!0,t.createAttribsFromArrays=c,t.createBuffersFromArrays=function(t,r){var n={};Object.keys(r).forEach(function(e){n[e]=f(t,r[e],e)}),r.indices?(n.numElements=r.indices.length,n.elementType=h.getGLTypeForTypedArray(_(r.indices),"indices")):n.numElements=function(e){var t,r;for(r=0;r<l.length&&!((t=l[r])in e);++r);r===l.length&&(t=Object.keys(e)[0]);var n=e[t],o=s(n).length,a=b(n,t),i=o/a;if(0<o%a)throw new Error("numComponents ".concat(a," not correct for length ").concat(o));return i}(r);return n},t.createBufferFromArray=f,t.createBufferFromTypedArray=m,t.createBufferInfoFromArrays=function(e,t,r){var n=c(e,t),o=Object.assign({},r||{});o.attribs=Object.assign({},r?r.attribs:{},n);var a=t.indices;if(a){var i=_(a,"indices");o.indices=m(e,i,e.ELEMENT_ARRAY_BUFFER),o.numElements=i.length,o.elementType=h.getGLTypeForTypedArray(i)}else o.numElements||(o.numElements=function(e,t){var r,n;for(n=0;n<l.length&&!((r=l[n])in t)&&!((r=y.attribPrefix+r)in t);++n);n===l.length&&(r=Object.keys(t)[0]);var o=t[r];e.bindBuffer(e.ARRAY_BUFFER,o.buffer);var a=e.getBufferParameter(e.ARRAY_BUFFER,e.BUFFER_SIZE);e.bindBuffer(e.ARRAY_BUFFER,null);var i=function(e,t){return t===e.BYTE?1:t===e.UNSIGNED_BYTE?1:t===e.SHORT?2:t===e.UNSIGNED_SHORT?2:t===e.INT?4:t===e.UNSIGNED_INT?4:t===e.FLOAT?4:0}(e,o.type),s=a/i,u=o.numComponents||o.size,c=s/u;if(c%1==0)return c;throw new Error("numComponents ".concat(u," not correct for length ").concat(length))}(e,o.attribs));return o},t.setAttribInfoBufferFromArray=function(e,t,r,n){r=_(r),void 0!==n?(e.bindBuffer(e.ARRAY_BUFFER,t.buffer),e.bufferSubData(e.ARRAY_BUFFER,n,r)):i(e,e.ARRAY_BUFFER,t.buffer,r,t.drawType)},t.setAttributePrefix=function(e){y.attribPrefix=e},t.setAttributeDefaults_=function(e){a.copyExistingProperties(e,y)},t.getNumComponents_=b,t.getArray_=s;var h=n(r("./src/typedarrays.js")),a=n(r("./src/helper.js"));function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var y={attribPrefix:""};function i(e,t,r,n,o){e.bindBuffer(t,r),e.bufferData(t,n,o||e.STATIC_DRAW)}function m(e,t,r,n){if(a.isBuffer(e,t))return t;r=r||e.ARRAY_BUFFER;var o=e.createBuffer();return i(e,r,o,t,n),o}function v(e){return"indices"===e}function s(e){return e.length?e:e.data}var o=/coord|texture/i,u=/color|colour/i;function g(e,t){var r;if(0<t%(r=o.test(e)?2:u.test(e)?4:3))throw new Error("Can not guess numComponents for attribute '".concat(e,"'. Tried ").concat(r," but ").concat(t," values is not evenly divisible by ").concat(r,". You should specify it."));return r}function b(e,t){return e.numComponents||e.size||g(t,s(e).length)}function _(e,t){if(h.isArrayBuffer(e))return e;if(h.isArrayBuffer(e.data))return e.data;Array.isArray(e)&&(e={data:e});var r=e.type;return new(r=r||(v(t)?Uint16Array:Float32Array))(e.data)}function c(f,d){var p={};return Object.keys(d).forEach(function(e){if(!v(e)){var t=d[e],r=t.attrib||t.name||t.attribName||y.attribPrefix+e;if(t.value){if(!Array.isArray(t.value)&&!h.isArrayBuffer(t.value))throw new Error("array.value is not array or typedarray");p[r]={value:t.value}}else{var n,o,a,i;if(t.buffer&&t.buffer instanceof WebGLBuffer)n=t.buffer,i=t.numComponents||t.size,o=t.type,a=t.normalize;else if("number"==typeof t||"number"==typeof t.data){var s=t.data||t,u=t.type||Float32Array,c=s*u.BYTES_PER_ELEMENT;o=h.getGLTypeForTypedArrayType(u),a=void 0!==t.normalize?t.normalize:function(e){return e===Int8Array||e===Uint8Array}(u),i=t.numComponents||t.size||g(e,s),n=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,n),f.bufferData(f.ARRAY_BUFFER,c,t.drawType||f.STATIC_DRAW)}else{var l=_(t,e);n=m(f,l,void 0,t.drawType),o=h.getGLTypeForTypedArray(l),a=void 0!==t.normalize?t.normalize:function(e){return e instanceof Int8Array||e instanceof Uint8Array}(l),i=b(t,e)}p[r]={buffer:n,numComponents:i,type:o,normalize:a,stride:t.stride||0,offset:t.offset||0,divisor:void 0===t.divisor?void 0:t.divisor,drawType:t.drawType}}}}),f.bindBuffer(f.ARRAY_BUFFER,null),p}var l=["position","positions","a_position"];function f(e,t,r){var n="indices"===r?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;return m(e,_(t,r),n)}},"./src/draw.js":function(e,t,r){"use strict";t.__esModule=!0,t.drawBufferInfo=c,t.drawObjectList=function(a,e){var i=null,s=null;e.forEach(function(e){if(!1!==e.active){var t=e.programInfo,r=e.vertexArrayInfo||e.bufferInfo,n=!1,o=void 0===e.type?a.TRIANGLES:e.type;t!==i&&(i=t,a.useProgram(t.program),n=!0),!n&&r===s||(s&&s.vertexArrayObject&&!r.vertexArrayObject&&a.bindVertexArray(null),s=r,u.setBuffersAndAttributes(a,t,r)),u.setUniforms(t,e.uniforms),c(a,r,o,e.count,e.offset,e.instanceCount)}}),s.vertexArrayObject&&a.bindVertexArray(null)};var u=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r("./src/programs.js"));function c(e,t,r,n,o,a){r=void 0===r?e.TRIANGLES:r;var i=t.indices,s=t.elementType,u=void 0===n?t.numElements:n;o=void 0===o?0:o,s||i?void 0!==a?e.drawElementsInstanced(r,u,void 0===s?e.UNSIGNED_SHORT:t.elementType,o,a):e.drawElements(r,u,void 0===s?e.UNSIGNED_SHORT:t.elementType,o):void 0!==a?e.drawArraysInstanced(r,o,u,a):e.drawArrays(r,o,u)}},"./src/framebuffers.js":function(e,t,r){"use strict";t.__esModule=!0,t.bindFramebufferInfo=function(e,t,r){r=r||e.FRAMEBUFFER,t?(e.bindFramebuffer(r,t.framebuffer),e.viewport(0,0,t.width,t.height)):(e.bindFramebuffer(r,null),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight))},t.createFramebufferInfo=function(a,e,i,s){var u=a.FRAMEBUFFER,t=a.createFramebuffer();a.bindFramebuffer(u,t),i=i||a.drawingBufferWidth,s=s||a.drawingBufferHeight;var c=0,l={framebuffer:t,attachments:[],width:i,height:s};return(e=e||h).forEach(function(e){var t=e.attachment,r=e.format,n=function(e){return y[e]}(r);if(n=n||p+c++,!t)if(function(e){return m[e]}(r))t=a.createRenderbuffer(),a.bindRenderbuffer(a.RENDERBUFFER,t),a.renderbufferStorage(a.RENDERBUFFER,r,i,s);else{var o=Object.assign({},e);o.width=i,o.height=s,void 0===o.auto&&(o.auto=!1,o.min=o.min||o.minMag||a.LINEAR,o.mag=o.mag||o.minMag||a.LINEAR,o.wrapS=o.wrapS||o.wrap||a.CLAMP_TO_EDGE,o.wrapT=o.wrapT||o.wrap||a.CLAMP_TO_EDGE),t=f.createTexture(a,o)}if(d.isRenderbuffer(a,t))a.framebufferRenderbuffer(u,n,a.RENDERBUFFER,t);else{if(!d.isTexture(a,t))throw new Error("unknown attachment type");a.framebufferTexture2D(u,n,e.texTarget||a.TEXTURE_2D,t,e.level||0)}l.attachments.push(t)}),l},t.resizeFramebufferInfo=function(o,a,e,i,s){i=i||o.drawingBufferWidth,s=s||o.drawingBufferHeight,a.width=i,a.height=s,(e=e||h).forEach(function(e,t){var r=a.attachments[t],n=e.format;if(d.isRenderbuffer(o,r))o.bindRenderbuffer(o.RENDERBUFFER,r),o.renderbufferStorage(o.RENDERBUFFER,n,i,s);else{if(!d.isTexture(o,r))throw new Error("unknown attachment type");f.resizeTexture(o,r,e,i,s)}})};var f=n(r("./src/textures.js")),d=n(r("./src/helper.js"));function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var p=36064,h=[{format:6408,type:5121,min:9729,wrap:33071},{format:34041}],y={};y[34041]=33306,y[6401]=36128,y[36168]=36128,y[6402]=36096,y[33189]=36096;var m={};m[32854]=!0,m[32855]=!0,m[36194]=!0,m[34041]=!0,m[33189]=!0,m[6401]=!0,m[36168]=!0},"./src/helper.js":function(e,t,r){"use strict";t.__esModule=!0,t.copyExistingProperties=function(t,r){Object.keys(r).forEach(function(e){r.hasOwnProperty(e)&&t.hasOwnProperty(e)&&(r[e]=t[e])})},t.copyNamedProperties=function(e,r,n){e.forEach(function(e){var t=r[e];void 0!==t&&(n[e]=t)})},t.isBuffer=function(e,t){return"undefined"!=typeof WebGLBuffer&&t instanceof WebGLBuffer},t.isRenderbuffer=function(e,t){return"undefined"!=typeof WebGLRenderbuffer&&t instanceof WebGLRenderbuffer},t.isShader=function(e,t){return"undefined"!=typeof WebGLShader&&t instanceof WebGLShader},t.isTexture=function(e,t){return"undefined"!=typeof WebGLTexture&&t instanceof WebGLTexture},t.isSampler=function(e,t){return"undefined"!=typeof WebGLSampler&&t instanceof WebGLSampler},t.warn=t.error=void 0;var n="undefined"!=typeof console&&console.error&&"function"==typeof console.error?console.error.bind(console):function(){};t.error=n;var o="undefined"!=typeof console&&console.warn&&"function"==typeof console.warn?console.warn.bind(console):function(){};t.warn=o},"./src/m4.js":function(e,t,r){"use strict";t.__esModule=!0,t.axisRotate=function(e,t,r,n){n=n||new K(16);var o=t[0],a=t[1],i=t[2],s=Math.sqrt(o*o+a*a+i*i),u=(o/=s)*o,c=(a/=s)*a,l=(i/=s)*i,f=Math.cos(r),d=Math.sin(r),p=1-f,h=u+(1-u)*f,y=o*a*p+i*d,m=o*i*p-a*d,v=o*a*p-i*d,g=c+(1-c)*f,b=a*i*p+o*d,_=o*i*p+a*d,E=a*i*p-o*d,w=l+(1-l)*f,x=e[0],A=e[1],T=e[2],F=e[3],R=e[4],S=e[5],P=e[6],I=e[7],C=e[8],k=e[9],O=e[10],j=e[11];n[0]=h*x+y*R+m*C,n[1]=h*A+y*S+m*k,n[2]=h*T+y*P+m*O,n[3]=h*F+y*I+m*j,n[4]=v*x+g*R+b*C,n[5]=v*A+g*S+b*k,n[6]=v*T+g*P+b*O,n[7]=v*F+g*I+b*j,n[8]=_*x+E*R+w*C,n[9]=_*A+E*S+w*k,n[10]=_*T+E*P+w*O,n[11]=_*F+E*I+w*j,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]);return n},t.axisRotation=function(e,t,r){r=r||new K(16);var n=e[0],o=e[1],a=e[2],i=Math.sqrt(n*n+o*o+a*a),s=(n/=i)*n,u=(o/=i)*o,c=(a/=i)*a,l=Math.cos(t),f=Math.sin(t),d=1-l;return r[0]=s+(1-s)*l,r[1]=n*o*d+a*f,r[2]=n*a*d-o*f,r[3]=0,r[4]=n*o*d-a*f,r[5]=u+(1-u)*l,r[6]=o*a*d+n*f,r[7]=0,r[8]=n*a*d+o*f,r[9]=o*a*d-n*f,r[10]=c+(1-c)*l,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},t.copy=a,t.frustum=function(e,t,r,n,o,a,i){i=i||new K(16);var s=t-e,u=n-r,c=o-a;return i[0]=2*o/s,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2*o/u,i[6]=0,i[7]=0,i[8]=(e+t)/s,i[9]=(n+r)/u,i[10]=a/c,i[11]=-1,i[12]=0,i[13]=0,i[14]=o*a/c,i[15]=0,i},t.getAxis=function(e,t,r){r=r||s.create();var n=4*t;return r[0]=e[0+n],r[1]=e[1+n],r[2]=e[2+n],r},t.getTranslation=function(e,t){return(t=t||s.create())[0]=e[12],t[1]=e[13],t[2]=e[14],t},t.identity=n,t.inverse=f,t.lookAt=function(e,t,r,n){n=n||new K(16);var o=u,a=c,i=l;return s.normalize(s.subtract(e,t,i),i),s.normalize(s.cross(r,i,o),o),s.normalize(s.cross(i,o,a),a),n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=0,n[4]=a[0],n[5]=a[1],n[6]=a[2],n[7]=0,n[8]=i[0],n[9]=i[1],n[10]=i[2],n[11]=0,n[12]=e[0],n[13]=e[1],n[14]=e[2],n[15]=1,n},t.multiply=function(e,t,r){r=r||new K(16);var n=e[0],o=e[1],a=e[2],i=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],d=e[9],p=e[10],h=e[11],y=e[12],m=e[13],v=e[14],g=e[15],b=t[0],_=t[1],E=t[2],w=t[3],x=t[4],A=t[5],T=t[6],F=t[7],R=t[8],S=t[9],P=t[10],I=t[11],C=t[12],k=t[13],O=t[14],j=t[15];return r[0]=n*b+s*_+f*E+y*w,r[1]=o*b+u*_+d*E+m*w,r[2]=a*b+c*_+p*E+v*w,r[3]=i*b+l*_+h*E+g*w,r[4]=n*x+s*A+f*T+y*F,r[5]=o*x+u*A+d*T+m*F,r[6]=a*x+c*A+p*T+v*F,r[7]=i*x+l*A+h*T+g*F,r[8]=n*R+s*S+f*P+y*I,r[9]=o*R+u*S+d*P+m*I,r[10]=a*R+c*S+p*P+v*I,r[11]=i*R+l*S+h*P+g*I,r[12]=n*C+s*k+f*O+y*j,r[13]=o*C+u*k+d*O+m*j,r[14]=a*C+c*k+p*O+v*j,r[15]=i*C+l*k+h*O+g*j,r},t.negate=function(e,t){return(t=t||new K(16))[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t[9]=-e[9],t[10]=-e[10],t[11]=-e[11],t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=-e[15],t},t.ortho=function(e,t,r,n,o,a,i){return(i=i||new K(16))[0]=2/(t-e),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2/(n-r),i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2/(o-a),i[11]=0,i[12]=(t+e)/(e-t),i[13]=(n+r)/(r-n),i[14]=(a+o)/(o-a),i[15]=1,i},t.perspective=function(e,t,r,n,o){o=o||new K(16);var a=Math.tan(.5*Math.PI-.5*e),i=1/(r-n);return o[0]=a/t,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=a,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=(r+n)*i,o[11]=-1,o[12]=0,o[13]=0,o[14]=r*n*i*2,o[15]=0,o},t.rotateX=function(e,t,r){r=r||new K(16);var n=e[4],o=e[5],a=e[6],i=e[7],s=e[8],u=e[9],c=e[10],l=e[11],f=Math.cos(t),d=Math.sin(t);r[4]=f*n+d*s,r[5]=f*o+d*u,r[6]=f*a+d*c,r[7]=f*i+d*l,r[8]=f*s-d*n,r[9]=f*u-d*o,r[10]=f*c-d*a,r[11]=f*l-d*i,e!==r&&(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]);return r},t.rotateY=function(e,t,r){r=r||new K(16);var n=e[0],o=e[1],a=e[2],i=e[3],s=e[8],u=e[9],c=e[10],l=e[11],f=Math.cos(t),d=Math.sin(t);r[0]=f*n-d*s,r[1]=f*o-d*u,r[2]=f*a-d*c,r[3]=f*i-d*l,r[8]=f*s+d*n,r[9]=f*u+d*o,r[10]=f*c+d*a,r[11]=f*l+d*i,e!==r&&(r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]);return r},t.rotateZ=function(e,t,r){r=r||new K(16);var n=e[0],o=e[1],a=e[2],i=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=Math.cos(t),d=Math.sin(t);r[0]=f*n+d*s,r[1]=f*o+d*u,r[2]=f*a+d*c,r[3]=f*i+d*l,r[4]=f*s-d*n,r[5]=f*u-d*o,r[6]=f*c-d*a,r[7]=f*l-d*i,e!==r&&(r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]);return r},t.rotationX=function(e,t){t=t||new K(16);var r=Math.cos(e),n=Math.sin(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.rotationY=function(e,t){t=t||new K(16);var r=Math.cos(e),n=Math.sin(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.rotationZ=function(e,t){t=t||new K(16);var r=Math.cos(e),n=Math.sin(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.scale=function(e,t,r){r=r||new K(16);var n=t[0],o=t[1],a=t[2];r[0]=n*e[0],r[1]=n*e[1],r[2]=n*e[2],r[3]=n*e[3],r[4]=o*e[4],r[5]=o*e[5],r[6]=o*e[6],r[7]=o*e[7],r[8]=a*e[8],r[9]=a*e[9],r[10]=a*e[10],r[11]=a*e[11],e!==r&&(r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]);return r},t.scaling=function(e,t){return(t=t||new K(16))[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.setAxis=function(e,t,r,n){n!==e&&(n=a(e,n));var o=4*r;return n[0+o]=t[0],n[1+o]=t[1],n[2+o]=t[2],n},t.setDefaultType=function(e){var t=K;return K=e,t},t.setTranslation=function(e,t,r){r=r||n(),e!==r&&(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11]);return r[12]=t[0],r[13]=t[1],r[14]=t[2],r[15]=1,r},t.transformDirection=function(e,t,r){r=r||s.create();var n=t[0],o=t[1],a=t[2];return r[0]=n*e[0]+o*e[4]+a*e[8],r[1]=n*e[1]+o*e[5]+a*e[9],r[2]=n*e[2]+o*e[6]+a*e[10],r},t.transformNormal=function(e,t,r){r=r||s.create();var n=f(e),o=t[0],a=t[1],i=t[2];return r[0]=o*n[0]+a*n[1]+i*n[2],r[1]=o*n[4]+a*n[5]+i*n[6],r[2]=o*n[8]+a*n[9]+i*n[10],r},t.transformPoint=function(e,t,r){r=r||s.create();var n=t[0],o=t[1],a=t[2],i=n*e[3]+o*e[7]+a*e[11]+e[15];return r[0]=(n*e[0]+o*e[4]+a*e[8]+e[12])/i,r[1]=(n*e[1]+o*e[5]+a*e[9]+e[13])/i,r[2]=(n*e[2]+o*e[6]+a*e[10]+e[14])/i,r},t.translate=function(e,t,r){r=r||new K(16);var n=t[0],o=t[1],a=t[2],i=e[0],s=e[1],u=e[2],c=e[3],l=e[4],f=e[5],d=e[6],p=e[7],h=e[8],y=e[9],m=e[10],v=e[11],g=e[12],b=e[13],_=e[14],E=e[15];e!==r&&(r[0]=i,r[1]=s,r[2]=u,r[3]=c,r[4]=l,r[5]=f,r[6]=d,r[7]=p,r[8]=h,r[9]=y,r[10]=m,r[11]=v);return r[12]=i*n+l*o+h*a+g,r[13]=s*n+f*o+y*a+b,r[14]=u*n+d*o+m*a+_,r[15]=c*n+p*o+v*a+E,r},t.translation=function(e,t){return(t=t||new K(16))[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},t.transpose=function(e,t){if((t=t||new K(16))===e){var r;return r=e[1],e[1]=e[4],e[4]=r,r=e[2],e[2]=e[8],e[8]=r,r=e[3],e[3]=e[12],e[12]=r,r=e[6],e[6]=e[9],e[9]=r,r=e[7],e[7]=e[13],e[13]=r,r=e[11],e[11]=e[14],e[14]=r,t}var n=e[0],o=e[1],a=e[2],i=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],d=e[9],p=e[10],h=e[11],y=e[12],m=e[13],v=e[14],g=e[15];return t[0]=n,t[1]=s,t[2]=f,t[3]=y,t[4]=o,t[5]=u,t[6]=d,t[7]=m,t[8]=a,t[9]=c,t[10]=p,t[11]=v,t[12]=i,t[13]=l,t[14]=h,t[15]=g,t};var s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r("./src/v3.js"));var K=Float32Array,u=s.create(),c=s.create(),l=s.create();function a(e,t){return(t=t||new K(16))[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function n(e){return(e=e||new K(16))[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function f(e,t){t=t||new K(16);var r=e[0],n=e[1],o=e[2],a=e[3],i=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],d=e[10],p=e[11],h=e[12],y=e[13],m=e[14],v=e[15],g=d*v,b=m*p,_=u*v,E=m*c,w=u*p,x=d*c,A=o*v,T=m*a,F=o*p,R=d*a,S=o*c,P=u*a,I=l*y,C=h*f,k=i*y,O=h*s,j=i*f,B=l*s,U=r*y,N=h*n,M=r*f,L=l*n,D=r*s,z=i*n,G=g*s+E*f+w*y-(b*s+_*f+x*y),W=b*n+A*f+R*y-(g*n+T*f+F*y),X=_*n+T*s+S*y-(E*n+A*s+P*y),H=x*n+F*s+P*f-(w*n+R*s+S*f),V=1/(r*G+i*W+l*X+h*H);return t[0]=V*G,t[1]=V*W,t[2]=V*X,t[3]=V*H,t[4]=V*(b*i+_*l+x*h-(g*i+E*l+w*h)),t[5]=V*(g*r+T*l+F*h-(b*r+A*l+R*h)),t[6]=V*(E*r+A*i+P*h-(_*r+T*i+S*h)),t[7]=V*(w*r+R*i+S*l-(x*r+F*i+P*l)),t[8]=V*(I*c+O*p+j*v-(C*c+k*p+B*v)),t[9]=V*(C*a+U*p+L*v-(I*a+N*p+M*v)),t[10]=V*(k*a+N*c+D*v-(O*a+U*c+z*v)),t[11]=V*(B*a+M*c+z*p-(j*a+L*c+D*p)),t[12]=V*(k*d+B*m+C*u-(j*m+I*u+O*d)),t[13]=V*(M*m+I*o+N*d-(U*d+L*m+C*o)),t[14]=V*(U*u+z*m+O*o-(D*m+k*o+N*u)),t[15]=V*(D*d+j*o+L*u-(M*u+z*d+B*o)),t}},"./src/primitives.js":function(e,t,r){"use strict";t.__esModule=!0,t.create3DFVertices=T,t.createAugmentedTypedArray=j,t.createCubeVertices=w,t.createPlaneVertices=b,t.createSphereVertices=_,t.createTruncatedConeVertices=x,t.createXYQuadVertices=m,t.createCresentVertices=F,t.createCylinderVertices=R,t.createTorusVertices=P,t.createDiscVertices=I,t.deindexVertices=function(s){var u=s.indices,c={},l=u.length;return Object.keys(s).filter(f).forEach(function(e){for(var t=s[e],r=t.numComponents,n=j(r,l,t.constructor),o=0;o<l;++o)for(var a=u[o]*r,i=0;i<r;++i)n.push(t[a+i]);c[e]=n}),c},t.flattenNormals=function(e){if(e.indices)throw new Error("can not flatten normals of indexed vertices. deindex them first");for(var t=e.normal,r=t.length,n=0;n<r;n+=9){var o=t[n+0],a=t[n+1],i=t[n+2],s=t[n+3],u=t[n+4],c=t[n+5],l=t[n+6],f=t[n+7],d=t[n+8],p=o+s+l,h=a+u+f,y=i+c+d,m=Math.sqrt(p*p+h*h+y*y);p/=m,h/=m,y/=m,t[n+0]=p,t[n+1]=h,t[n+2]=y,t[n+3]=p,t[n+4]=h,t[n+5]=y,t[n+6]=p,t[n+7]=h,t[n+8]=y}return e},t.makeRandomVertexColors=function(e,t){t=t||{};var r=e.position.numElements,n=j(4,r,Uint8Array),o=t.rand||function(e,t){return t<3?function(e){return Math.random()*e|0}(256):255};if(e.color=n,e.indices)for(var a=0;a<r;++a)n.push(o(a,0),o(a,1),o(a,2),o(a,3));else for(var i=t.vertsPerColor||3,s=r/i,u=0;u<s;++u)for(var c=[o(u,0),o(u,1),o(u,2),o(u,3)],l=0;l<i;++l)n.push(c);return e},t.reorientDirections=p,t.reorientNormals=h,t.reorientPositions=y,t.reorientVertices=g,t.concatVertices=function(u){for(var a,i={},e=function(e){var o=u[e];Object.keys(o).forEach(function(e){i[e]||(i[e]=[]),a||"indices"===e||(a=e);var t=o[e],r=s(t,e),n=c(t).length/r;i[e].push(n)})},t=0;t<u.length;++t)e(t);var n=i[a],o={};return Object.keys(i).forEach(function(e){var t=function(e){for(var t,r=0,n=0;n<u.length;++n){var o=u[n][e],a=c(o);r+=a.length,t&&!o.data||(t=o)}return{length:r,spec:t}}(e),r=U(t.spec,t.length);!function(e,t,r){for(var n=0,o=0,a=0;a<u.length;++a){var i=u[a][e],s=c(i);"indices"===e?(B(s,r,o,n),n+=t[a]):B(s,r,o),o+=s.length}}(e,n,c(r)),o[e]=r}),o},t.duplicateVertices=function(o){var a={};return Object.keys(o).forEach(function(e){var t=o[e],r=c(t),n=U(t,r.length);B(r,c(n),0),a[e]=n}),a},t.createDiscBuffers=t.createDiscBufferInfo=t.createTorusBuffers=t.createTorusBufferInfo=t.createCylinderBuffers=t.createCylinderBufferInfo=t.createCresentBuffers=t.createCresentBufferInfo=t.createXYQuadBuffers=t.createXYQuadBufferInfo=t.createTruncatedConeBuffers=t.createTruncatedConeBufferInfo=t.createSphereBuffers=t.createSphereBufferInfo=t.createPlaneBuffers=t.createPlaneBufferInfo=t.createCubeBuffers=t.createCubeBufferInfo=t.create3DFBuffers=t.create3DFBufferInfo=void 0;var n=o(r("./src/attributes.js")),a=o(r("./src/helper.js")),i=o(r("./src/typedarrays.js")),v=o(r("./src/m4.js")),S=o(r("./src/v3.js"));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var c=n.getArray_,s=n.getNumComponents_;function u(n,e){var o=0;return n.push=function(){for(var e=0;e<arguments.length;++e){var t=arguments[e];if(t instanceof Array||i.isArrayBuffer(t))for(var r=0;r<t.length;++r)n[o++]=t[r];else n[o++]=t}},n.reset=function(e){o=e||0},n.numComponents=e,Object.defineProperty(n,"numElements",{get:function(){return this.length/this.numComponents|0}}),n}function j(e,t,r){return u(new(r||Float32Array)(e*t),e)}function f(e){return"indices"!==e}function l(e,t,r){for(var n=e.length,o=new Float32Array(3),a=0;a<n;a+=3)r(t,[e[a],e[a+1],e[a+2]],o),e[a]=o[0],e[a+1]=o[1],e[a+2]=o[2]}function d(e,t,r){r=r||S.create();var n=t[0],o=t[1],a=t[2];return r[0]=n*e[0]+o*e[1]+a*e[2],r[1]=n*e[4]+o*e[5]+a*e[6],r[2]=n*e[8]+o*e[9]+a*e[10],r}function p(e,t){return l(e,t,v.transformDirection),e}function h(e,t){return l(e,v.inverse(t),d),e}function y(e,t){return l(e,t,v.transformPoint),e}function g(r,n){return Object.keys(r).forEach(function(e){var t=r[e];0<=e.indexOf("pos")?y(t,n):0<=e.indexOf("tan")||0<=e.indexOf("binorm")?p(t,n):0<=e.indexOf("norm")&&h(t,n)}),r}function m(e,t,r){return e=e||2,{position:{numComponents:2,data:[(t=t||0)+-1*(e*=.5),(r=r||0)+-1*e,t+1*e,r+-1*e,t+-1*e,r+1*e,t+1*e,r+1*e]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function b(e,t,r,n,o){e=e||1,t=t||1,r=r||1,n=n||1,o=o||v.identity();for(var a=(r+1)*(n+1),i=j(3,a),s=j(3,a),u=j(2,a),c=0;c<=n;c++)for(var l=0;l<=r;l++){var f=l/r,d=c/n;i.push(e*f-.5*e,0,t*d-.5*t),s.push(0,1,0),u.push(f,d)}for(var p=r+1,h=j(3,r*n*2,Uint16Array),y=0;y<n;y++)for(var m=0;m<r;m++)h.push((y+0)*p+m,(y+1)*p+m,(y+0)*p+m+1),h.push((y+1)*p+m,(y+1)*p+m+1,(y+0)*p+m+1);return g({position:i,normal:s,texcoord:u,indices:h},o)}function _(e,t,r,n,o,a,i){if(t<=0||r<=0)throw new Error("subdivisionAxis and subdivisionHeight must be > 0");n=n||0,a=a||0;for(var s=(o=o||Math.PI)-n,u=(i=i||2*Math.PI)-a,c=(t+1)*(r+1),l=j(3,c),f=j(3,c),d=j(2,c),p=0;p<=r;p++)for(var h=0;h<=t;h++){var y=h/t,m=p/r,v=u*y+a,g=s*m+n,b=Math.sin(v),_=Math.cos(v),E=Math.sin(g),w=_*E,x=Math.cos(g),A=b*E;l.push(e*w,e*x,e*A),f.push(w,x,A),d.push(1-y,m)}for(var T=t+1,F=j(3,t*r*2,Uint16Array),R=0;R<t;R++)for(var S=0;S<r;S++)F.push((S+0)*T+R,(S+0)*T+R+1,(S+1)*T+R),F.push((S+1)*T+R,(S+0)*T+R+1,(S+1)*T+R+1);return{position:l,normal:f,texcoord:d,indices:F}}var E=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function w(e){for(var t=(e=e||1)/2,r=[[-t,-t,-t],[+t,-t,-t],[-t,+t,-t],[+t,+t,-t],[-t,-t,+t],[+t,-t,+t],[-t,+t,+t],[+t,+t,+t]],n=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],o=[[1,0],[0,0],[0,1],[1,1]],a=j(3,24),i=j(3,24),s=j(2,24),u=j(3,12,Uint16Array),c=0;c<6;++c){for(var l=E[c],f=0;f<4;++f){var d=r[l[f]],p=n[c],h=o[f];a.push(d),i.push(p),s.push(h)}var y=4*c;u.push(0+y,1+y,2+y),u.push(0+y,2+y,3+y)}return{position:a,normal:i,texcoord:s,indices:u}}function x(e,t,r,n,o,a,i){if(n<3)throw new Error("radialSubdivisions must be 3 or greater");if(o<1)throw new Error("verticalSubdivisions must be 1 or greater");for(var s=void 0===a||a,u=void 0===i||i,c=(s?2:0)+(u?2:0),l=(n+1)*(o+1+c),f=j(3,l),d=j(3,l),p=j(2,l),h=j(3,n*(o+c)*2,Uint16Array),y=n+1,m=Math.atan2(e-t,r),v=Math.cos(m),g=Math.sin(m),b=o+(u?2:0),_=s?-2:0;_<=b;++_){var E=_/o,w=r*E,x=void 0;x=_<0?(w=0,E=1,e):o<_?(w=r,E=1,t):e+_/o*(t-e),-2!==_&&_!==o+2||(E=x=0),w-=r/2;for(var A=0;A<y;++A){var T=Math.sin(A*Math.PI*2/n),F=Math.cos(A*Math.PI*2/n);f.push(T*x,w,F*x),d.push(_<0||o<_?0:T*v,_<0?-1:o<_?1:g,_<0||o<_?0:F*v),p.push(A/n,1-E)}}for(var R=0;R<o+c;++R)for(var S=0;S<n;++S)h.push(y*(R+0)+0+S,y*(R+0)+1+S,y*(R+1)+1+S),h.push(y*(R+0)+0+S,y*(R+1)+1+S,y*(R+1)+0+S);return{position:f,normal:d,texcoord:p,indices:h}}function A(e,t){t=t||[];for(var r=[],n=0;n<e.length;n+=4){var o=e[n],a=e.slice(n+1,n+4);a.push.apply(a,t);for(var i=0;i<o;++i)r.push.apply(r,a)}return r}function T(){var e=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],t=A([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),r=A([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),n=e.length/3,o={position:j(3,n),texcoord:j(2,n),normal:j(3,n),color:j(4,n,Uint8Array),indices:j(3,n/3,Uint16Array)};o.position.push(e),o.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),o.normal.push(t),o.color.push(r);for(var a=0;a<n;++a)o.indices.push(a);return o}function F(b,e,t,_,E,w,r){if(E<=0)throw new Error("subdivisionDown must be > 0");var x=2,A=(r=r||1)-(w=w||0),n=2*(E+1)*(2+x),T=j(3,n),F=j(3,n),R=j(2,n);function o(e,t,r,n,o,a){for(var i=0;i<=E;i++){var s=t/(x-1),u=i/E,c=2*(s-.5),l=(w+u*A)*Math.PI,f=Math.sin(l),d=Math.cos(l),p=(g=b)+(e-g)*f,h=c*_,y=d*b,m=f*p;T.push(h,y,m);var v=S.add(S.multiply([0,f,d],r),n);F.push(v),R.push(s*o+a,u)}var g}for(var a=0;a<x;a++){var i=2*(a/(x-1)-.5);o(e,a,[1,1,1],[0,0,0],1,0),o(e,a,[0,0,0],[i,0,0],0,0),o(t,a,[1,1,1],[0,0,0],1,0),o(t,a,[0,0,0],[i,0,0],0,1)}var s=j(3,2*E*(2+x),Uint16Array);function u(e,t){for(var r=0;r<E;++r)s.push(e+r+0,e+r+1,t+r+0),s.push(e+r+1,t+r+1,t+r+0)}var c=E+1;return u(0*c,4*c),u(5*c,7*c),u(6*c,2*c),u(3*c,1*c),{position:T,normal:F,texcoord:R,indices:s}}function R(e,t,r,n,o,a){return x(e,e,t,r,n,o,a)}function P(e,t,r,n,o,a){if(r<3)throw new Error("radialSubdivisions must be 3 or greater");if(n<3)throw new Error("verticalSubdivisions must be 3 or greater");o=o||0;for(var i=(a=a||2*Math.PI)-o,s=r+1,u=n+1,c=s*u,l=j(3,c),f=j(3,c),d=j(2,c),p=j(3,r*n*2,Uint16Array),h=0;h<u;++h)for(var y=h/n,m=y*Math.PI*2,v=Math.sin(m),g=e+v*t,b=Math.cos(m),_=b*t,E=0;E<s;++E){var w=E/r,x=o+w*i,A=Math.sin(x),T=Math.cos(x),F=A*g,R=T*g,S=A*v,P=T*v;l.push(F,_,R),f.push(S,b,P),d.push(w,1-y)}for(var I=0;I<n;++I)for(var C=0;C<r;++C){var k=1+C,O=1+I;p.push(s*I+C,s*O+C,s*I+k),p.push(s*O+C,s*O+k,s*I+k)}return{position:l,normal:f,texcoord:d,indices:p}}function I(e,t,r,n,o){if(t<3)throw new Error("divisions must be at least 3");o=o||1,n=n||0;for(var a=(t+1)*((r=r||1)+1),i=j(3,a),s=j(3,a),u=j(2,a),c=j(3,r*t*2,Uint16Array),l=0,f=e-n,d=t+1,p=0;p<=r;++p){for(var h=n+f*Math.pow(p/r,o),y=0;y<=t;++y){var m=2*Math.PI*y/t,v=h*Math.cos(m),g=h*Math.sin(m);if(i.push(v,0,g),s.push(0,1,0),u.push(1-y/t,p/r),0<p&&y!==t){var b=l+(y+1),_=l+y,E=l+y-d,w=l+(y+1)-d;c.push(b,_,E),c.push(b,E,w)}}l+=t+1}return{position:i,normal:s,texcoord:u,indices:c}}function C(r){return function(e){var t=r.apply(this,Array.prototype.slice.call(arguments,1));return n.createBuffersFromArrays(e,t)}}function k(r){return function(e){var t=r.apply(null,Array.prototype.slice.call(arguments,1));return n.createBufferInfoFromArrays(e,t)}}var O=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName"];function B(e,t,r,n){n=n||0;for(var o=e.length,a=0;a<o;++a)t[r+a]=e[a]+n}function U(e,t){var r=c(e),n=new r.constructor(t),o=n;return r.numComponents&&r.numElements&&u(n,r.numComponents),e.data&&(o={data:n},a.copyNamedProperties(O,e,o)),o}var N=k(T);t.create3DFBufferInfo=N;var M=C(T);t.create3DFBuffers=M;var L=k(w);t.createCubeBufferInfo=L;var D=C(w);t.createCubeBuffers=D;var z=k(b);t.createPlaneBufferInfo=z;var G=C(b);t.createPlaneBuffers=G;var W=k(_);t.createSphereBufferInfo=W;var X=C(_);t.createSphereBuffers=X;var H=k(x);t.createTruncatedConeBufferInfo=H;var V=C(x);t.createTruncatedConeBuffers=V;var K=k(m);t.createXYQuadBufferInfo=K;var Y=C(m);t.createXYQuadBuffers=Y;var q=k(F);t.createCresentBufferInfo=q;var $=C(F);t.createCresentBuffers=$;var Z=k(R);t.createCylinderBufferInfo=Z;var Q=C(R);t.createCylinderBuffers=Q;var J=k(P);t.createTorusBufferInfo=J;var ee=C(P);t.createTorusBuffers=ee;var te=k(I);t.createDiscBufferInfo=te;var re=C(I);t.createDiscBuffers=re},"./src/programs.js":function(e,t,r){"use strict";t.__esModule=!0,t.createAttributeSetters=G,t.createProgram=C,t.createProgramFromScripts=function(e,t,r,n,o){for(var a=R(r,n,o),i=[],s=0;s<t.length;++s){var u=k(e,t[s],e[S[s]],a.errorCallback);if(!u)return null;i.push(u)}return C(e,i,a)},t.createProgramFromSources=O,t.createProgramInfo=function(e,t,r,n,o){var a=R(r,n,o),i=!0;if(t=t.map(function(e){if(e.indexOf("\n")<0){var t=v(e);t?e=t.text:(a.errorCallback("no element with id: "+e),i=!1)}return e}),!i)return null;var s=O(e,t,a);return s?X(e,s):null},t.createProgramInfoFromProgram=X,t.createUniformSetters=B,t.createUniformBlockSpecFromProgram=M,t.createUniformBlockInfoFromProgram=D,t.createUniformBlockInfo=function(e,t,r){return D(e,t.program,t.uniformBlockSpec,r)},t.createTransformFeedback=function(e,t,r){var n=e.createTransformFeedback();return e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,n),e.useProgram(t.program),N(e,t,r),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),n},t.createTransformFeedbackInfo=U,t.bindTransformFeedbackInfo=N,t.setAttributes=W,t.setBuffersAndAttributes=function(e,t,r){r.vertexArrayObject?e.bindVertexArray(r.vertexArrayObject):(W(t.attribSetters||t,r.attribs),r.indices&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r.indices))},t.setUniforms=function e(t,r){var n=t.uniformSetters||t;var o=arguments.length;for(var a=1;a<o;++a){var i=arguments[a];if(Array.isArray(i))for(var s=i.length,u=0;u<s;++u)e(n,i[u]);else for(var c in i){var l=n[c];l&&l(i[c])}}},t.setUniformBlock=function(e,t,r){z(e,t,r)&&e.bufferData(e.UNIFORM_BUFFER,r.array,e.DYNAMIC_DRAW)},t.setBlockUniforms=function(e,t){var r=e.uniforms;for(var n in t){var o=r[n];if(o){var a=t[n];a.length?o.set(a):o[0]=a}}},t.bindUniformBlock=z;var u=n(r("./src/utils.js")),m=n(r("./src/helper.js"));function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var c=m.error,d=m.warn,v="undefined"!=typeof document&&document.getElementById?document.getElementById.bind(document):function(){return null},o=34067,a=35866,p={};function l(e,t){return p[t].bindPoint}function i(t,r){return function(e){t.uniform1i(r,e)}}function s(t,r){return function(e){t.uniform1iv(r,e)}}function f(t,r){return function(e){t.uniform2iv(r,e)}}function h(t,r){return function(e){t.uniform3iv(r,e)}}function y(t,r){return function(e){t.uniform4iv(r,e)}}function g(n,e,o,a){var i=l(0,e);return u.isWebGL2(n)?function(e){var t,r;r=m.isTexture(n,e)?(t=e,null):(t=e.texture,e.sampler),n.uniform1i(a,o),n.activeTexture(n.TEXTURE0+o),n.bindTexture(i,t),n.bindSampler(o,r)}:function(e){n.uniform1i(a,o),n.activeTexture(n.TEXTURE0+o),n.bindTexture(i,e)}}function b(o,e,a,t,r){for(var i=l(0,e),s=new Int32Array(r),n=0;n<r;++n)s[n]=a+n;return u.isWebGL2(o)?function(e){o.uniform1iv(t,s),e.forEach(function(e,t){var r,n;o.activeTexture(o.TEXTURE0+s[t]),n=m.isTexture(o,e)?(r=e,null):(r=e.texture,e.sampler),o.bindSampler(a,n),o.bindTexture(i,r)})}:function(e){o.uniform1iv(t,s),e.forEach(function(e,t){o.activeTexture(o.TEXTURE0+s[t]),o.bindTexture(i,e)})}}function _(t,r){return function(e){if(e.value)switch(t.disableVertexAttribArray(r),e.value.length){case 4:t.vertexAttrib4fv(r,e.value);break;case 3:t.vertexAttrib3fv(r,e.value);break;case 2:t.vertexAttrib2fv(r,e.value);break;case 1:t.vertexAttrib1fv(r,e.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else t.bindBuffer(t.ARRAY_BUFFER,e.buffer),t.enableVertexAttribArray(r),t.vertexAttribPointer(r,e.numComponents||e.size,e.type||t.FLOAT,e.normalize||!1,e.stride||0,e.offset||0),void 0!==e.divisor&&t.vertexAttribDivisor(r,e.divisor)}}function E(t,r){return function(e){if(e.value){if(t.disableVertexAttribArray(r),4!==e.value.length)throw new Error("The length of an integer constant value must be 4!");t.vertexAttrib4iv(r,e.value)}else t.bindBuffer(t.ARRAY_BUFFER,e.buffer),t.enableVertexAttribArray(r),t.vertexAttribIPointer(r,e.numComponents||e.size,e.type||t.INT,e.stride||0,e.offset||0),void 0!==e.divisor&&t.vertexAttribDivisor(r,e.divisor)}}function w(t,r){return function(e){if(e.value){if(t.disableVertexAttribArray(r),4!==e.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");t.vertexAttrib4uiv(r,e.value)}else t.bindBuffer(t.ARRAY_BUFFER,e.buffer),t.enableVertexAttribArray(r),t.vertexAttribIPointer(r,e.numComponents||e.size,e.type||t.UNSIGNED_INT,e.stride||0,e.offset||0),void 0!==e.divisor&&t.vertexAttribDivisor(r,e.divisor)}}function x(c,l,e){var f=e.size,d=e.count;return function(e){c.bindBuffer(c.ARRAY_BUFFER,e.buffer);for(var t=e.size||e.numComponents||f,r=t/d,n=e.type||c.FLOAT,o=p[n].size*t,a=e.normalize||!1,i=e.offset||0,s=o/d,u=0;u<d;++u)c.enableVertexAttribArray(l+u),c.vertexAttribPointer(l+u,r,n,a,o,i+s*u),void 0!==e.divisor&&c.vertexAttribDivisor(l+u,e.divisor)}}p[5126]={Type:Float32Array,size:4,setter:function(t,r){return function(e){t.uniform1f(r,e)}},arraySetter:function(t,r){return function(e){t.uniform1fv(r,e)}}},p[35664]={Type:Float32Array,size:8,setter:function(t,r){return function(e){t.uniform2fv(r,e)}}},p[35665]={Type:Float32Array,size:12,setter:function(t,r){return function(e){t.uniform3fv(r,e)}}},p[35666]={Type:Float32Array,size:16,setter:function(t,r){return function(e){t.uniform4fv(r,e)}}},p[5124]={Type:Int32Array,size:4,setter:i,arraySetter:s},p[35667]={Type:Int32Array,size:8,setter:f},p[35668]={Type:Int32Array,size:12,setter:h},p[35669]={Type:Int32Array,size:16,setter:y},p[5125]={Type:Uint32Array,size:4,setter:function(t,r){return function(e){t.uniform1ui(r,e)}},arraySetter:function(t,r){return function(e){t.uniform1uiv(r,e)}}},p[36294]={Type:Uint32Array,size:8,setter:function(t,r){return function(e){t.uniform2uiv(r,e)}}},p[36295]={Type:Uint32Array,size:12,setter:function(t,r){return function(e){t.uniform3uiv(r,e)}}},p[36296]={Type:Uint32Array,size:16,setter:function(t,r){return function(e){t.uniform4uiv(r,e)}}},p[35670]={Type:Uint32Array,size:4,setter:i,arraySetter:s},p[35671]={Type:Uint32Array,size:8,setter:f},p[35672]={Type:Uint32Array,size:12,setter:h},p[35673]={Type:Uint32Array,size:16,setter:y},p[35674]={Type:Float32Array,size:16,setter:function(t,r){return function(e){t.uniformMatrix2fv(r,!1,e)}}},p[35675]={Type:Float32Array,size:36,setter:function(t,r){return function(e){t.uniformMatrix3fv(r,!1,e)}}},p[35676]={Type:Float32Array,size:64,setter:function(t,r){return function(e){t.uniformMatrix4fv(r,!1,e)}}},p[35685]={Type:Float32Array,size:24,setter:function(t,r){return function(e){t.uniformMatrix2x3fv(r,!1,e)}}},p[35686]={Type:Float32Array,size:32,setter:function(t,r){return function(e){t.uniformMatrix2x4fv(r,!1,e)}}},p[35687]={Type:Float32Array,size:24,setter:function(t,r){return function(e){t.uniformMatrix3x2fv(r,!1,e)}}},p[35688]={Type:Float32Array,size:48,setter:function(t,r){return function(e){t.uniformMatrix3x4fv(r,!1,e)}}},p[35689]={Type:Float32Array,size:32,setter:function(t,r){return function(e){t.uniformMatrix4x2fv(r,!1,e)}}},p[35690]={Type:Float32Array,size:48,setter:function(t,r){return function(e){t.uniformMatrix4x3fv(r,!1,e)}}},p[35678]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:3553},p[35680]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:o},p[35679]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:32879},p[35682]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:3553},p[36289]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:a},p[36292]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:a},p[36293]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:o},p[36298]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:3553},p[36299]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:32879},p[36300]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:o},p[36303]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:a},p[36306]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:3553},p[36307]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:32879},p[36308]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:o},p[36311]={Type:null,size:0,setter:g,arraySetter:b,bindPoint:a};var A={};A[5126]={size:4,setter:_},A[35664]={size:8,setter:_},A[35665]={size:12,setter:_},A[35666]={size:16,setter:_},A[5124]={size:4,setter:E},A[35667]={size:8,setter:E},A[35668]={size:12,setter:E},A[35669]={size:16,setter:E},A[5125]={size:4,setter:w},A[36294]={size:8,setter:w},A[36295]={size:12,setter:w},A[36296]={size:16,setter:w},A[35670]={size:4,setter:E},A[35671]={size:8,setter:E},A[35672]={size:12,setter:E},A[35673]={size:16,setter:E},A[35674]={size:4,setter:x,count:2},A[35675]={size:9,setter:x,count:3},A[35676]={size:16,setter:x,count:4};var T=/^[ \t]*\n/;function F(e,t,r,n){var o=n||c,a=e.createShader(r),i=0;if(T.test(t)&&(i=1,t=t.replace(T,"")),e.shaderSource(a,t),e.compileShader(a),e.getShaderParameter(a,e.COMPILE_STATUS))return a;var s=e.getShaderInfoLog(a);return o(function(e,r){return r=r||0,++r,e.split("\n").map(function(e,t){return t+r+": "+e}).join("\n")}(t,i)+"\n*** Error compiling shader: "+s),e.deleteShader(a),null}function R(e,r,t){var n;if("function"==typeof r&&(t=r,r=void 0),"function"==typeof e)t=e,e=void 0;else if(e&&!Array.isArray(e)){if(e.errorCallback)return e;var o=e;t=o.errorCallback,e=o.attribLocations,n=o.transformFeedbackVaryings}var a={errorCallback:t||c,transformFeedbackVaryings:n};if(e){var i={};Array.isArray(e)?e.forEach(function(e,t){i[e]=r?r[t]:t}):i=e,a.attribLocations=i}return a}var S=["VERTEX_SHADER","FRAGMENT_SHADER"];function P(e,t){return 0<=t.indexOf("frag")?e.FRAGMENT_SHADER:0<=t.indexOf("vert")?e.VERTEX_SHADER:void 0}function I(t,e){e.forEach(function(e){t.deleteShader(e)})}function C(t,e,r,n,o){for(var a=R(r,n,o),i=[],s=[],u=0;u<e.length;++u){var c=e[u];if("string"==typeof c){var l=v(c),f=l?l.text:c,d=t[S[u]];l&&l.type&&(d=P(t,l.type)||d),c=F(t,f,d,a.errorCallback),s.push(c)}m.isShader(t,c)&&i.push(c)}if(i.length!==e.length)return a.errorCallback("not enough shaders for program"),I(t,s),null;var p=t.createProgram();i.forEach(function(e){t.attachShader(p,e)}),a.attribLocations&&Object.keys(a.attribLocations).forEach(function(e){t.bindAttribLocation(p,a.attribLocations[e],e)});var h=a.transformFeedbackVaryings;if(h&&(h.attribs&&(h=h.attribs),Array.isArray(h)||(h=Object.keys(h)),t.transformFeedbackVaryings(p,h,a.transformFeedbackMode||t.SEPARATE_ATTRIBS)),t.linkProgram(p),t.getProgramParameter(p,t.LINK_STATUS))return p;var y=t.getProgramInfoLog(p);return a.errorCallback("Error in program linking:"+y),t.deleteProgram(p),I(t,s),null}function k(e,t,r,n){var o,a=v(t);if(!a)throw new Error("unknown script element: ".concat(t));o=a.text;var i=r||P(e,a.type);if(!i)throw new Error("unknown shader type");return F(e,o,i,n)}function O(e,t,r,n,o){for(var a=R(r,n,o),i=[],s=0;s<t.length;++s){var u=F(e,t[s],e[S[s]],a.errorCallback);if(!u)return null;i.push(u)}return C(e,i,a)}function j(e){var t=e.name;return t.startsWith("gl_")||t.startsWith("webgl_")}function B(u,e){var c=0;function t(e,t){var r,n=u.getUniformLocation(e,t.name),o=1<t.size&&"[0]"===t.name.substr(-3),a=t.type,i=p[a];if(!i)throw new Error("unknown type: 0x".concat(a.toString(16)));if(i.bindPoint){var s=c;c+=t.size,r=o?i.arraySetter(u,a,s,n,t.size):i.setter(u,a,s,n,t.size)}else r=i.arraySetter&&o?i.arraySetter(u,n):i.setter(u,n);return r.location=n,r}for(var r={},n=u.getProgramParameter(e,u.ACTIVE_UNIFORMS),o=0;o<n;++o){var a=u.getActiveUniform(e,o);if(!j(a)){var i=a.name;"[0]"===i.substr(-3)&&(i=i.substr(0,i.length-3));var s=t(e,a);r[i]=s}}return r}function U(e,t){for(var r={},n=e.getProgramParameter(t,e.TRANSFORM_FEEDBACK_VARYINGS),o=0;o<n;++o){var a=e.getTransformFeedbackVarying(t,o);r[a.name]={index:o,type:a.type,size:a.size}}return r}function N(e,t,r){for(var n in t.transformFeedbackInfo&&(t=t.transformFeedbackInfo),r.attribs&&(r=r.attribs),r){var o=t[n];if(o){var a=r[n];a.offset?e.bindBufferRange(e.TRANSFORM_FEEDBACK_BUFFER,o.index,a.buffer,a.offset,a.size):e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,o.index,a.buffer)}}}function M(n,o){for(var e=n.getProgramParameter(o,n.ACTIVE_UNIFORMS),a=[],i=[],t=0;t<e;++t){i.push(t),a.push({});var r=n.getActiveUniform(o,t);if(j(r))break;a[t].name=r.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(e){var t=e[0],r=e[1];n.getActiveUniforms(o,i,n[t]).forEach(function(e,t){a[t][r]=e})});for(var s={},u=n.getProgramParameter(o,n.ACTIVE_UNIFORM_BLOCKS),c=0;c<u;++c){var l=n.getActiveUniformBlockName(o,c),f={index:c,usedByVertexShader:n.getActiveUniformBlockParameter(o,c,n.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:n.getActiveUniformBlockParameter(o,c,n.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),size:n.getActiveUniformBlockParameter(o,c,n.UNIFORM_BLOCK_DATA_SIZE),uniformIndices:n.getActiveUniformBlockParameter(o,c,n.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES)};f.used=f.usedByVertexSahder||f.usedByFragmentShader,s[l]=f}return{blockSpecs:s,uniformData:a}}var L=/\[\d+\]\.$/;function D(e,t,r,n){var o=r.blockSpecs,i=r.uniformData,a=o[n];if(!a)return d("no uniform block object named:",n),{name:n,uniforms:{}};var s=new ArrayBuffer(a.size),u=e.createBuffer(),c=a.index;e.bindBuffer(e.UNIFORM_BUFFER,u),e.uniformBlockBinding(t,a.index,c);var l=n+".";L.test(l)&&(l=l.replace(L,"."));var f={};return a.uniformIndices.forEach(function(e){var t=i[e],r=p[t.type],n=r.Type,o=t.size*r.size,a=t.name;a.substr(0,l.length)===l&&(a=a.substr(l.length)),f[a]=new n(s,t.offset,o/n.BYTES_PER_ELEMENT)}),{name:n,array:s,asFloat:new Float32Array(s),buffer:u,uniforms:f}}function z(e,t,r){var n=(t.uniformBlockSpec||t).blockSpecs[r.name];if(n){var o=n.index;return e.bindBufferRange(e.UNIFORM_BUFFER,o,r.buffer,r.offset||0,r.array.byteLength),!0}return!1}function G(e,t){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<n;++o){var a=e.getActiveAttrib(t,o);if(!j(a)){var i=e.getAttribLocation(t,a.name),s=A[a.type],u=s.setter(e,i,s);u.location=i,r[a.name]=u}}return r}function W(e,t){for(var r in t){var n=e[r];n&&n(t[r])}}function X(e,t){var r={program:t,uniformSetters:B(e,t),attribSetters:G(e,t)};return u.isWebGL2(e)&&(r.uniformBlockSpec=M(e,t),r.transformFeedbackInfo=U(e,t)),r}},"./src/textures.js":function(e,t,r){"use strict";t.__esModule=!0,t.setTextureDefaults_=function(e){f.copyExistingProperties(e,A),e.textureColor&&U(e.textureColor)},t.createSampler=H,t.createSamplers=function(t,r){var n={};return Object.keys(r).forEach(function(e){n[e]=H(t,r[e])}),n},t.setSamplerParameters=X,t.createTexture=se,t.setEmptyTexture=ie,t.setTextureFromArray=ae,t.loadTextureFromUrl=re,t.setTextureFromElement=$,t.setTextureFilteringForSize=V,t.setTextureParameters=W,t.setDefaultTextureColor=U,t.createTextures=function(r,o,e){e=e||Z;var a=0,i=[],s={},u={};function c(){0===a&&setTimeout(function(){e(i.length?i:void 0,s,u)},0)}return Object.keys(o).forEach(function(n){var e,t=o[n];!function(e){return"string"==typeof e||Array.isArray(e)&&"string"==typeof e[0]}(t.src)||(e=function(e,t,r){u[n]=r,--a,e&&i.push(e),c()},++a),s[n]=se(r,t,e)}),c(),s},t.resizeTexture=function(e,t,r,n,o){n=n||r.width,o=o||r.height;var a=r.target||e.TEXTURE_2D;e.bindTexture(a,t);var i,s=r.level||0,u=r.internalFormat||r.format||e.RGBA,c=I(u),l=r.format||c.format,f=r.src;i=f&&(E(f)||Array.isArray(f)&&"number"==typeof f[0])?r.type||j(e,f,c.type):r.type||c.type;if(a===e.TEXTURE_CUBE_MAP)for(var d=0;d<6;++d)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+d,s,u,n,o,0,l,i,null);else e.texImage2D(a,s,u,n,o,0,l,i,null)},t.canGenerateMipmap=k,t.canFilter=O,t.getNumComponentsForFormat=function(e){var t=x[e];if(t)return t.numColorComponents;throw"unknown format: "+e},t.getBytesPerElementForInternalFormat=P,t.getFormatAndTypeForInternalFormat=I;var b=n(r("./src/utils.js")),_=n(r("./src/typedarrays.js")),f=n(r("./src/helper.js"));function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var A={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},E=_.isArrayBuffer,T="undefined"!=typeof document&&document.createElement?document.createElement("canvas").getContext("2d"):null,o=6407,a=6408,i=5120,s=5121,u=5123,c=5125,l=5126,d=5131,p=36193,h=33319,y=33320,m=6403,v=36244,g=36248,w=36249,x={},F=x;F[6406]={numColorComponents:1},F[6409]={numColorComponents:1},F[6410]={numColorComponents:2},F[o]={numColorComponents:3},F[a]={numColorComponents:4},F[m]={numColorComponents:1},F[v]={numColorComponents:1},F[h]={numColorComponents:2},F[y]={numColorComponents:2},F[o]={numColorComponents:3},F[g]={numColorComponents:3},F[a]={numColorComponents:4},F[w]={numColorComponents:4},F[6402]={numColorComponents:1},F[34041]={numColorComponents:2};var R={},S=R;function P(e,t){var r=R[e];if(!r)throw"unknown internal format";var n=r.bytesPerElementMap[t];if(void 0===n)throw"unknown internal format";return n}function I(e){var t=R[e];if(!t)throw"unknown internal format";return{format:t.textureFormat,type:t.type[0]}}function C(e){return 0==(e&e-1)}function k(e,t,r,n){if(!b.isWebGL2(e))return C(t)&&C(r);var o=R[n];if(!o)throw"unknown internal format";return o.colorRenderable&&o.textureFilterable}function O(e){var t=R[e];if(!t)throw"unknown internal format";return t.textureFilterable}function j(e,t,r){return E(t)?_.getGLTypeForTypedArray(t):r||e.UNSIGNED_BYTE}function B(e,t,r,n,o){if(o%1!=0)throw"can't guess dimensions";if(r||n){if(n){if(!r&&(r=o/n)%1)throw"can't guess dimensions"}else if((n=o/r)%1)throw"can't guess dimensions"}else{var a=Math.sqrt(o/(t===e.TEXTURE_CUBE_MAP?6:1));n=a%1==0?r=a:(r=o,1)}return{width:r,height:n}}function U(e){A.textureColor=new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}S[6406]={textureFormat:6406,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[s,d,p,l]},S[6409]={textureFormat:6409,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[s,d,p,l]},S[6410]={textureFormat:6410,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[s,d,p,l]},S[o]={textureFormat:o,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[s,d,p,l,33635]},S[a]={textureFormat:a,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[s,d,p,l,32819,32820]},S[33321]={textureFormat:m,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[s]},S[36756]={textureFormat:m,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[i]},S[33325]={textureFormat:m,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[l,d]},S[33326]={textureFormat:m,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[l]},S[33330]={textureFormat:v,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[s]},S[33329]={textureFormat:v,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[i]},S[33332]={textureFormat:v,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[u]},S[33331]={textureFormat:v,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5122]},S[33334]={textureFormat:v,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[c]},S[33333]={textureFormat:v,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5124]},S[33323]={textureFormat:h,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[s]},S[36757]={textureFormat:h,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[i]},S[33327]={textureFormat:h,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[l,d]},S[33328]={textureFormat:h,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[l]},S[33336]={textureFormat:y,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[s]},S[33335]={textureFormat:y,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[i]},S[33338]={textureFormat:y,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[u]},S[33337]={textureFormat:y,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5122]},S[33340]={textureFormat:y,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[c]},S[33339]={textureFormat:y,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5124]},S[32849]={textureFormat:o,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[s]},S[35905]={textureFormat:o,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[s]},S[36194]={textureFormat:o,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[s,33635]},S[36758]={textureFormat:o,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[i]},S[35898]={textureFormat:o,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[l,d,35899]},S[35901]={textureFormat:o,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[l,d,35902]},S[34843]={textureFormat:o,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[l,d]},S[34837]={textureFormat:o,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[l]},S[36221]={textureFormat:g,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[s]},S[36239]={textureFormat:g,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[i]},S[36215]={textureFormat:g,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[u]},S[36233]={textureFormat:g,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[5122]},S[36209]={textureFormat:g,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[c]},S[36227]={textureFormat:g,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5124]},S[32856]={textureFormat:a,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[s]},S[35907]={textureFormat:a,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[s]},S[36759]={textureFormat:a,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[i]},S[32855]={textureFormat:a,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[s,32820,33640]},S[32854]={textureFormat:a,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[s,32819]},S[32857]={textureFormat:a,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[33640]},S[34842]={textureFormat:a,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[l,d]},S[34836]={textureFormat:a,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[l]},S[36220]={textureFormat:w,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[s]},S[36238]={textureFormat:w,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[i]},S[36975]={textureFormat:w,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[33640]},S[36214]={textureFormat:w,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[u]},S[36232]={textureFormat:w,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5122]},S[36226]={textureFormat:w,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[5124]},S[36208]={textureFormat:w,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[c]},S[33189]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[u,c]},S[33190]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[c]},S[36012]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[l]},S[35056]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[34042]},S[36013]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[36269]},Object.keys(S).forEach(function(e){var n=S[e];n.bytesPerElementMap={},n.bytesPerElement.forEach(function(e,t){var r=n.type[t];n.bytesPerElementMap[r]=e})});var N={};function M(e,t){void 0!==t.colorspaceConversion&&(N.colorspaceConversion=e.getParameter(e.UNPACK_COLORSPACE_CONVERSION_WEBGL),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.colorspaceConversion)),void 0!==t.premultiplyAlpha&&(N.premultiplyAlpha=e.getParameter(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha)),void 0!==t.flipY&&(N.flipY=e.getParameter(e.UNPACK_FLIP_Y_WEBGL),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY))}function L(e,t){void 0!==t.colorspaceConversion&&e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,N.colorspaceConversion),void 0!==t.premultiplyAlpha&&e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),void 0!==t.flipY&&e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,N.flipY)}function D(e){N.unpackAlignment=e.getParameter(e.UNPACK_ALIGNMENT),b.isWebGL2(e)&&(N.unpackRowLength=e.getParameter(e.UNPACK_ROW_LENGTH),N.unpackImageHeight=e.getParameter(e.UNPACK_IMAGE_HEIGHT),N.unpackSkipPixels=e.getParameter(e.UNPACK_SKIP_PIXELS),N.unpackSkipRows=e.getParameter(e.UNPACK_SKIP_ROWS),N.unpackSkipImages=e.getParameter(e.UNPACK_SKIP_IMAGES))}function z(e){e.pixelStorei(e.UNPACK_ALIGNMENT,N.unpackAlignment),b.isWebGL2(e)&&(e.pixelStorei(e.UNPACK_ROW_LENGTH,N.unpackRowLength),e.pixelStorei(e.UNPACK_IMAGE_HEIGHT,N.unpackImageHeight),e.pixelStorei(e.UNPACK_SKIP_PIXELS,N.unpackSkipPixels),e.pixelStorei(e.UNPACK_SKIP_ROWS,N.unpackSkipRows),e.pixelStorei(e.UNPACK_SKIP_IMAGES,N.unpackSkipImages))}function G(e,t,r,n){n.minMag&&(r.call(e,t,e.TEXTURE_MIN_FILTER,n.minMag),r.call(e,t,e.TEXTURE_MAG_FILTER,n.minMag)),n.min&&r.call(e,t,e.TEXTURE_MIN_FILTER,n.min),n.mag&&r.call(e,t,e.TEXTURE_MAG_FILTER,n.mag),n.wrap&&(r.call(e,t,e.TEXTURE_WRAP_S,n.wrap),r.call(e,t,e.TEXTURE_WRAP_T,n.wrap),t!==e.TEXTURE_3D&&!f.isSampler(e,t)||r.call(e,t,e.TEXTURE_WRAP_R,n.wrap)),n.wrapR&&r.call(e,t,e.TEXTURE_WRAP_R,n.wrapR),n.wrapS&&r.call(e,t,e.TEXTURE_WRAP_S,n.wrapS),n.wrapT&&r.call(e,t,e.TEXTURE_WRAP_T,n.wrapT),n.minLod&&r.call(e,t,e.TEXTURE_MIN_LOD,n.minLod),n.maxLod&&r.call(e,t,e.TEXTURE_MAX_LOD,n.maxLod),n.baseLevel&&r.call(e,t,e.TEXTURE_BASE_LEVEL,n.baseLevel),n.maxLevel&&r.call(e,t,e.TEXTURE_MAX_LEVEL,n.maxLevel)}function W(e,t,r){var n=r.target||e.TEXTURE_2D;e.bindTexture(n,t),G(e,n,e.texParameteri,r)}function X(e,t,r){G(e,t,e.samplerParameteri,r)}function H(e,t){var r=e.createSampler();return X(e,r,t),r}function V(e,t,r,n,o,a,i){r=r||A.textureOptions,a=a||e.RGBA,i=i||e.UNSIGNED_BYTE;var s=r.target||e.TEXTURE_2D;if(n=n||r.width,o=o||r.height,e.bindTexture(s,t),k(e,n,o,a))e.generateMipmap(s);else{var u=O(a)?e.LINEAR:e.NEAREST;e.texParameteri(s,e.TEXTURE_MIN_FILTER,u),e.texParameteri(s,e.TEXTURE_MAG_FILTER,u),e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}}function K(e){return!0===e.auto||void 0===e.auto&&void 0===e.level}function Y(e,t){return(t=t||{}).cubeFaceOrder||[e.TEXTURE_CUBE_MAP_POSITIVE_X,e.TEXTURE_CUBE_MAP_NEGATIVE_X,e.TEXTURE_CUBE_MAP_POSITIVE_Y,e.TEXTURE_CUBE_MAP_NEGATIVE_Y,e.TEXTURE_CUBE_MAP_POSITIVE_Z,e.TEXTURE_CUBE_MAP_NEGATIVE_Z]}function q(e,t){var r=Y(e,t).map(function(e,t){return{face:e,ndx:t}});return r.sort(function(e,t){return e.face-t.face}),r}function $(n,o,a,i){var s=(i=i||A.textureOptions).target||n.TEXTURE_2D,u=i.level||0,c=a.width,l=a.height,f=i.internalFormat||i.format||n.RGBA,e=I(f),d=i.format||e.format,p=i.type||e.type;if(M(n,i),n.bindTexture(s,o),s===n.TEXTURE_CUBE_MAP){var h,y,t=a.width,r=a.height;if(t/6===r)h=r,y=[0,0,1,0,2,0,3,0,4,0,5,0];else if(r/6===t)h=t,y=[0,0,0,1,0,2,0,3,0,4,0,5];else if(t/3==r/2)h=t/3,y=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(t/2!=r/3)throw"can't figure out cube map from element: "+(a.src?a.src:a.nodeName);h=t/2,y=[0,0,1,0,0,1,1,1,0,2,1,2]}T?(T.canvas.width=h,T.canvas.height=h,l=c=h,q(n,i).forEach(function(e){var t=y[2*e.ndx+0]*h,r=y[2*e.ndx+1]*h;T.drawImage(a,t,r,h,h,0,0,h,h),n.texImage2D(e.face,u,f,d,p,T.canvas)}),T.canvas.width=1,T.canvas.height=1):"undefined"!=typeof createImageBitmap&&(l=c=h,q(n,i).forEach(function(t){var e=y[2*t.ndx+0]*h,r=y[2*t.ndx+1]*h;n.texImage2D(t.face,u,f,h,h,0,d,p,null),createImageBitmap(a,e,r,h,h,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(e){M(n,i),n.bindTexture(s,o),n.texImage2D(t.face,u,f,d,p,e),L(n,i),K(i)&&V(n,o,i,c,l,f,p)})}))}else if(s===n.TEXTURE_3D||s===n.TEXTURE_2D_ARRAY){var m=Math.min(a.width,a.height),v=Math.max(a.width,a.height),g=v/m;if(g%1!=0)throw"can not compute 3D dimensions of element";var b=a.width===v?1:0,_=a.height===v?1:0;D(n),n.pixelStorei(n.UNPACK_ALIGNMENT,1),n.pixelStorei(n.UNPACK_ROW_LENGTH,a.width),n.pixelStorei(n.UNPACK_IMAGE_HEIGHT,0),n.pixelStorei(n.UNPACK_SKIP_IMAGES,0),n.texImage3D(s,u,f,m,m,m,0,d,p,null);for(var E=0;E<g;++E){var w=E*m*b,x=E*m*_;n.pixelStorei(n.UNPACK_SKIP_PIXELS,w),n.pixelStorei(n.UNPACK_SKIP_ROWS,x),n.texSubImage3D(s,u,0,0,E,m,m,1,d,p,a)}z(n)}else n.texImage2D(s,u,f,d,p,a);L(n,i),K(i)&&V(n,o,i,c,l,f,p),W(n,o,i)}function Z(){}function Q(e,t){return void 0!==t||function(e){if("undefined"!=typeof document){var t=document.createElement("a");return t.href=e,t.hostname===location.hostname&&t.port===location.port&&t.protocol===location.protocol}var r=new URL(location.href).origin;return new URL(e,location.href).origin===r}(e)?t:"anonymous"}function J(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof ImageData&&e instanceof ImageData||"undefined"!=typeof HTMLElement&&e instanceof HTMLElement}function ee(e,t,r){return J(e)?(setTimeout(function(){r(null,e)}),e):function(t,e,r){var n;if(r=r||Z,e=void 0!==e?e:A.crossOrigin,e=Q(t,e),"undefined"!=typeof Image){n=new Image,void 0!==e&&(n.crossOrigin=e);var o=function(){n.removeEventListener("error",a),n.removeEventListener("load",i),n=null},a=function(){var e="couldn't load image: "+t;f.error(e),r(e,n),o()},i=function(){r(null,n),o()};return n.addEventListener("error",a),n.addEventListener("load",i),n.src=t,n}if("undefined"!=typeof ImageBitmap){var s,u,c=function(){r(s,u)},l={};e&&(l.mode="cors"),fetch(t,l).then(function(e){if(!e.ok)throw e;return e.blob()}).then(function(e){return createImageBitmap(e,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(e){u=e,setTimeout(c)}).catch(function(e){s=e,setTimeout(c)}),n=null}return n}(e,t,r)}function te(e,t,r){var n=(r=r||A.textureOptions).target||e.TEXTURE_2D;if(e.bindTexture(n,t),!1!==r.color){var o=function(e){return e=e||A.textureColor,E(e)?e:new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}(r.color);if(n===e.TEXTURE_CUBE_MAP)for(var a=0;a<6;++a)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o);else n===e.TEXTURE_3D||n===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o):e.texImage2D(n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o)}}function re(r,n,o,a){return a=a||Z,o=o||A.textureOptions,te(r,n,o),ee((o=Object.assign({},o)).src,o.crossOrigin,function(e,t){e?a(e,n,t):($(r,n,t,o),a(null,n,t))})}function ne(n,o,a,i){i=i||Z;var e=a.src;if(6!==e.length)throw"there must be 6 urls for a cubemap";var s=a.level||0,u=a.internalFormat||a.format||n.RGBA,t=I(u),c=a.format||t.format,l=a.type||n.UNSIGNED_BYTE,f=a.target||n.TEXTURE_2D;if(f!==n.TEXTURE_CUBE_MAP)throw"target must be TEXTURE_CUBE_MAP";te(n,o,a),a=Object.assign({},a);var d,p=6,h=[],r=Y(n,a);d=e.map(function(e,t){return ee(e,a.crossOrigin,function(r){return function(e,t){--p,e?h.push(e):t.width!==t.height?h.push("cubemap face img is not a square: "+t.src):(M(n,a),n.bindTexture(f,o),5===p?Y(n).forEach(function(e){n.texImage2D(e,s,u,c,l,t)}):n.texImage2D(r,s,u,c,l,t),L(n,a),K(a)&&n.generateMipmap(f)),0===p&&i(h.length?h:void 0,o,d)}}(r[t]))})}function oe(a,i,s,u){u=u||Z;var e=s.src,c=s.internalFormat||s.format||a.RGBA,t=I(c),l=s.format||t.format,f=s.type||a.UNSIGNED_BYTE,d=s.target||a.TEXTURE_2D_ARRAY;if(d!==a.TEXTURE_3D&&d!==a.TEXTURE_2D_ARRAY)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";te(a,i,s),s=Object.assign({},s);var p,h=e.length,y=[],m=s.level||0,v=s.width,g=s.height,b=e.length,_=!0;p=e.map(function(e,t){return ee(e,s.crossOrigin,function(o){return function(e,t){if(--h,e)y.push(e);else{if(M(a,s),a.bindTexture(d,i),_){_=!1,v=s.width||t.width,g=s.height||t.height,a.texImage3D(d,m,c,v,g,b,0,l,f,null);for(var r=0;r<b;++r)a.texSubImage3D(d,m,0,0,r,v,g,1,l,f,t)}else{var n=t;t.width===v&&t.height===g||(n=T.canvas,T.canvas.width=v,T.canvas.height=g,T.drawImage(t,0,0,v,g)),a.texSubImage3D(d,m,0,0,o,v,g,1,l,f,n),n===T.canvas&&(T.canvas.width=0,T.canvas.height=0)}L(a,s),K(s)&&a.generateMipmap(d)}0===h&&u(y.length?y:void 0,i,p)}}(t))})}function ae(n,e,o,t){var r=(t=t||A.textureOptions).target||n.TEXTURE_2D;n.bindTexture(r,e);var a=t.width,i=t.height,s=t.depth,u=t.level||0,c=t.internalFormat||t.format||n.RGBA,l=I(c),f=t.format||l.format,d=t.type||j(n,o,l.type);if(E(o))o instanceof Uint8ClampedArray&&(o=new Uint8Array(o.buffer));else{var p=_.getTypedArrayTypeForGLType(d);o=new p(o)}var h,y=P(c,d),m=o.byteLength/y;if(m%1)throw"length wrong size for format: "+b.glEnumToString(n,f);if(r===n.TEXTURE_3D)if(a||i||s)!a||i&&s?!i||a&&s?(h=B(n,r,a,i,m/s),a=h.width,i=h.height):(h=B(n,r,a,s,m/i),a=h.width,s=h.height):(h=B(n,r,i,s,m/a),i=h.width,s=h.height);else{var v=Math.cbrt(m);if(v%1!=0)throw"can't guess cube size of array of numElements: "+m;s=i=a=v}else h=B(n,r,a,i,m),a=h.width,i=h.height;if(D(n),n.pixelStorei(n.UNPACK_ALIGNMENT,t.unpackAlignment||1),M(n,t),r===n.TEXTURE_CUBE_MAP){var g=m/6*(y/o.BYTES_PER_ELEMENT);q(n,t).forEach(function(e){var t=g*e.ndx,r=o.subarray(t,t+g);n.texImage2D(e.face,u,c,a,i,0,f,d,r)})}else r===n.TEXTURE_3D?n.texImage3D(r,u,c,a,i,s,0,f,d,o):n.texImage2D(r,u,c,a,i,0,f,d,o);return L(n,t),z(n),{width:a,height:i,depth:s,type:d}}function ie(e,t,r){var n=r.target||e.TEXTURE_2D;e.bindTexture(n,t);var o=r.level||0,a=r.internalFormat||r.format||e.RGBA,i=I(a),s=r.format||i.format,u=r.type||i.type;if(M(e,r),n===e.TEXTURE_CUBE_MAP)for(var c=0;c<6;++c)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+c,o,a,r.width,r.height,0,s,u,null);else n===e.TEXTURE_3D?e.texImage3D(n,o,a,r.width,r.height,r.depth,0,s,u,null):e.texImage2D(n,o,a,r.width,r.height,0,s,u,null);L(e,r)}function se(e,t,r){r=r||Z,t=t||A.textureOptions;var n=e.createTexture(),o=t.target||e.TEXTURE_2D,a=t.width||1,i=t.height||1,s=t.internalFormat||e.RGBA,u=I(s),c=t.type||u.type;e.bindTexture(o,n),o===e.TEXTURE_CUBE_MAP&&(e.texParameteri(o,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(o,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE));var l=t.src;if(l)if("function"==typeof l&&(l=l(e,t)),"string"==typeof l)re(e,n,t,r);else if(E(l)||Array.isArray(l)&&("number"==typeof l[0]||Array.isArray(l[0])||E(l[0]))){var f=ae(e,n,l,t);a=f.width,i=f.height,c=f.type}else if(Array.isArray(l)&&("string"==typeof l[0]||J(l[0])))o===e.TEXTURE_CUBE_MAP?ne(e,n,t,r):oe(e,n,t,r);else{if(!J(l))throw"unsupported src type";$(e,n,l,t),a=l.width,i=l.height}else ie(e,n,t);return K(t)&&V(e,n,t,a,i,s,c),W(e,n,t),n}},"./src/twgl-full.js":function(e,t,r){"use strict";var n={m4:t.__esModule=!0,v3:!0,primitives:!0};t.primitives=t.v3=t.m4=void 0;var o=u(r("./src/m4.js"));t.m4=o;var a=u(r("./src/v3.js"));t.v3=a;var i=u(r("./src/primitives.js"));t.primitives=i;var s=r("./src/twgl.js");function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=s[e]))})},"./src/twgl.js":function(e,t,r){"use strict";var n={addExtensionsToContext:t.__esModule=!0,getContext:!0,getWebGLContext:!0,resizeCanvasToDisplaySize:!0,setDefaults:!0};t.addExtensionsToContext=g,t.getContext=function(e,t){return function(e,t){for(var r=["webgl2","webgl","experimental-webgl"],n=null,o=0;o<r.length;++o)if(n=e.getContext(r[o],t)){h.addExtensionsToContext&&g(n);break}return n}(e,t)},t.getWebGLContext=function(e,t){return function(e,t){for(var r=["webgl","experimental-webgl"],n=null,o=0;o<r.length;++o)if(n=e.getContext(r[o],t)){h.addExtensionsToContext&&g(n);break}return n}(e,t)},t.resizeCanvasToDisplaySize=function(e,t){t=t||1,t=Math.max(0,t);var r=e.clientWidth*t|0,n=e.clientHeight*t|0;return(e.width!==r||e.height!==n)&&(e.width=r,e.height=n,!0)},t.setDefaults=function(e){f.copyExistingProperties(e,h),o.setAttributeDefaults_(e),a.setTextureDefaults_(e)};var o=p(r("./src/attributes.js"));Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=o[e]))});var a=p(r("./src/textures.js"));Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=a[e]))});var f=p(r("./src/helper.js")),d=p(r("./src/utils.js"));Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=d[e]))});var i=r("./src/draw.js");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=i[e]))});var s=r("./src/framebuffers.js");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=s[e]))});var u=r("./src/programs.js");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=u[e]))});var c=r("./src/typedarrays.js");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=c[e]))});var l=r("./src/vertex-arrays.js");function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=l[e]))});var h={addExtensionsToContext:!0};var y=/^(.*?)_/;function m(e,t){d.glEnumToString(e,0);var r=e.getExtension(t);if(r){var n={},o=y.exec(t)[1],a="_"+o;for(var i in r){var s=r[i],u="function"==typeof s,c=u?o:a,l=i;i.endsWith(c)&&(l=i.substring(0,i.length-c.length)),void 0!==e[l]?u||e[l]===s||f.warn(l,e[l],s,i):u?e[l]=function(e){return function(){return e.apply(r,arguments)}}(s):(e[l]=s,n[l]=s)}n.constructor={name:r.constructor.name},d.glEnumToString(n,0)}return r}var v=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function g(e){for(var t=0;t<v.length;++t)m(e,v[t])}},"./src/typedarrays.js":function(e,t,r){"use strict";t.__esModule=!0,t.getGLTypeForTypedArray=function(e){if(e instanceof Int8Array)return n;if(e instanceof Uint8Array)return o;if(e instanceof Uint8ClampedArray)return o;if(e instanceof Int16Array)return a;if(e instanceof Uint16Array)return i;if(e instanceof Int32Array)return s;if(e instanceof Uint32Array)return u;if(e instanceof Float32Array)return c;throw new Error("unsupported typed array type")},t.getGLTypeForTypedArrayType=function(e){if(e===Int8Array)return n;if(e===Uint8Array)return o;if(e===Uint8ClampedArray)return o;if(e===Int16Array)return a;if(e===Uint16Array)return i;if(e===Int32Array)return s;if(e===Uint32Array)return u;if(e!==Float32Array)throw new Error("unsupported typed array type");return c},t.getTypedArrayTypeForGLType=function(e){var t=l[e];if(t)return t;throw new Error("unknown gl type")};t.isArrayBuffer=void 0;var n=5120,o=5121,a=5122,i=5123,s=5124,u=5125,c=5126,l={},f=l;f[n]=Int8Array,f[o]=Uint8Array,f[a]=Int16Array,f[i]=Uint16Array,f[s]=Int32Array,f[u]=Uint32Array,f[c]=Float32Array,f[32819]=Uint16Array,f[32820]=Uint16Array,f[33635]=Uint16Array,f[5131]=Uint16Array,f[33640]=Uint32Array,f[35899]=Uint32Array,f[35902]=Uint32Array,f[36269]=Uint32Array,f[34042]=Uint32Array;var d="undefined"!=typeof SharedArrayBuffer?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};t.isArrayBuffer=d},"./src/utils.js":function(e,t,r){"use strict";t.__esModule=!0,t.isWebGL1=function(e){return!e.texStorage2D},t.isWebGL2=function(e){return!!e.texStorage2D},t.glEnumToString=void 0;var o,a,n=(o={},a={},function(e,t){return function(e){var t=e.constructor.name;if(!o[t]){for(var r in e)if("number"==typeof e[r]){var n=a[e[r]];a[e[r]]=n?"".concat(n," | ").concat(r):r}o[t]=!0}}(e),a[t]||"0x"+t.toString(16)});t.glEnumToString=n},"./src/v3.js":function(e,t,r){"use strict";t.__esModule=!0,t.add=function(e,t,r){return(r=r||new a(3))[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r},t.copy=function(e,t){return(t=t||new a(3))[0]=e[0],t[1]=e[1],t[2]=e[2],t},t.create=function(e,t,r){var n=new a(3);e&&(n[0]=e);t&&(n[1]=t);r&&(n[2]=r);return n},t.cross=function(e,t,r){r=r||new a(3);var n=e[2]*t[0]-e[0]*t[2],o=e[0]*t[1]-e[1]*t[0];return r[0]=e[1]*t[2]-e[2]*t[1],r[1]=n,r[2]=o,r},t.distance=function(e,t){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(r*r+n*n+o*o)},t.distanceSq=function(e,t){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return r*r+n*n+o*o},t.divide=function(e,t,r){return(r=r||new a(3))[0]=e[0]/t[0],r[1]=e[1]/t[1],r[2]=e[2]/t[2],r},t.divScalar=function(e,t,r){return(r=r||new a(3))[0]=e[0]/t,r[1]=e[1]/t,r[2]=e[2]/t,r},t.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},t.lerp=function(e,t,r,n){return(n=n||new a(3))[0]=e[0]+r*(t[0]-e[0]),n[1]=e[1]+r*(t[1]-e[1]),n[2]=e[2]+r*(t[2]-e[2]),n},t.lerpV=function(e,t,r,n){return(n=n||new a(3))[0]=e[0]+r[0]*(t[0]-e[0]),n[1]=e[1]+r[1]*(t[1]-e[1]),n[2]=e[2]+r[2]*(t[2]-e[2]),n},t.length=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])},t.lengthSq=function(e){return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]},t.max=function(e,t,r){return(r=r||new a(3))[0]=Math.max(e[0],t[0]),r[1]=Math.max(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r},t.min=function(e,t,r){return(r=r||new a(3))[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.min(e[2],t[2]),r},t.mulScalar=function(e,t,r){return(r=r||new a(3))[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r},t.multiply=function(e,t,r){return(r=r||new a(3))[0]=e[0]*t[0],r[1]=e[1]*t[1],r[2]=e[2]*t[2],r},t.negate=function(e,t){return(t=t||new a(3))[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},t.normalize=function(e,t){t=t||new a(3);var r=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=Math.sqrt(r);1e-5<n?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=0,t[1]=0,t[2]=0);return t},t.setDefaultType=function(e){var t=a;return a=e,t},t.subtract=function(e,t,r){return(r=r||new a(3))[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r};var a=Float32Array},"./src/vertex-arrays.js":function(e,t,r){"use strict";t.__esModule=!0,t.createVertexArrayInfo=function(t,e,r){var n=t.createVertexArray();t.bindVertexArray(n),e.length||(e=[e]);return e.forEach(function(e){a.setBuffersAndAttributes(t,e,r)}),t.bindVertexArray(null),{numElements:r.numElements,elementType:r.elementType,vertexArrayObject:n}},t.createVAOAndSetAttributes=n,t.createVAOFromBufferInfo=function(e,t,r){return n(e,t.attribSetters||t,r.attribs,r.indices)};var a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(r("./src/programs.js"));function n(e,t,r,n){var o=e.createVertexArray();return e.bindVertexArray(o),a.setAttributes(t,r),n&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n),e.bindVertexArray(null),o}}},o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s="./src/twgl-full.js");function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var r,n},"object"==typeof r&&"object"==typeof t?t.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof r?r.twgl=o():n.twgl=o()},{}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./internal/typestyle");r.TypeStyle=n.TypeStyle;var o=e("./types");r.types=o;var a=e("./internal/utilities");r.extend=a.extend,r.classes=a.classes,r.media=a.media;var i=new n.TypeStyle({autoGenerateTag:!0});r.setStylesTarget=i.setStylesTarget,r.cssRaw=i.cssRaw,r.cssRule=i.cssRule,r.forceRenderStyles=i.forceRenderStyles,r.fontFace=i.fontFace,r.getStyles=i.getStyles,r.keyframes=i.keyframes,r.reinit=i.reinit,r.style=i.style,r.stylesheet=i.stylesheet,r.createTypeStyle=function(e){var t=new n.TypeStyle({autoGenerateTag:!1});return e&&t.setStylesTarget(e),t}},{"./internal/typestyle":15,"./internal/utilities":16,"./types":17}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var c=e("free-style");r.ensureStringObj=function e(t){var r={},n="";for(var o in t){var a=t[o];if("$unique"===o)r[c.IS_UNIQUE]=a;else if("$nest"===o){var i=a;for(var s in i){var u=i[s];r[s]=e(u).result}}else"$debugName"===o?n=a:r[o]=a}return{result:r,debugName:n}},r.explodeKeyframes=function(e){var t={$debugName:void 0,keyframes:{}};for(var r in e){var n=e[r];"$debugName"===r?t.$debugName=n:t.keyframes[r]=n}return t}},{"free-style":8}],15:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});function n(){return o.create(void 0,!0)}var o=e("free-style"),a=e("./formatting"),s=e("./utilities"),i=(u.prototype._afterAllSync=function(e){var t=this;this._pending++;var r=this._pending;s.raf(function(){r===t._pending&&e()})},u.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var e="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(e),this._tag=e}},u.prototype._styleUpdated=function(){var e=this,t=this._freeStyle.changeId,r=this._lastFreeStyleChangeId;!this._pendingRawChange&&t===r||(this._lastFreeStyleChangeId=t,this._pendingRawChange=!1,this._afterAllSync(function(){return e.forceRenderStyles()}))},u.prototype.style=function(){var e=this._freeStyle,t=a.ensureStringObj(s.extend.apply(void 0,arguments)),r=t.result,n=t.debugName,o=n?e.registerStyle(r,n):e.registerStyle(r);return this._styleUpdated(),o},u);function u(e){var t=e.autoGenerateTag,i=this;this.cssRaw=function(e){e&&(i._raw+=e||"",i._pendingRawChange=!0,i._styleUpdated())},this.cssRule=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=a.ensureStringObj(s.extend.apply(void 0,t)).result;i._freeStyle.registerRule(e,n),i._styleUpdated()},this.forceRenderStyles=function(){var e=i._getTag();e&&(e.textContent=i.getStyles())},this.fontFace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=i._freeStyle,n=0,o=e;n<o.length;n++){var a=o[n];r.registerRule("@font-face",a)}i._styleUpdated()},this.getStyles=function(){return(i._raw||"")+i._freeStyle.getStyles()},this.keyframes=function(e){var t=a.explodeKeyframes(e),r=t.keyframes,n=t.$debugName,o=i._freeStyle.registerKeyframes(r,n);return i._styleUpdated(),o},this.reinit=function(){var e=n();i._freeStyle=e,i._lastFreeStyleChangeId=e.changeId,i._raw="",i._pendingRawChange=!1;var t=i._getTag();t&&(t.textContent="")},this.setStylesTarget=function(e){i._tag&&(i._tag.textContent=""),i._tag=e,i.forceRenderStyles()},this.stylesheet=function(e){for(var t={},r=0,n=Object.getOwnPropertyNames(e);r<n.length;r++){var o=n[r],a=e[o];a&&(t[a.$debugName=o]=i.style(a))}return t};var r=n();this._autoGenerateTag=t,this._freeStyle=r,this._lastFreeStyleChangeId=r.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0,this.style=this.style.bind(this)}r.TypeStyle=i},{"./formatting":14,"./utilities":16,"free-style":8}],16:[function(e,t,r){"use strict";function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r={},n=0,o=e;n<o.length;n++){var a=o[n];if(null!=a&&!1!==a)for(var i in a){var s=a[i];!s&&0!==s||("$nest"===i&&s?r[i]=r.$nest?u(r.$nest,s):s:-1!==i.indexOf("&")||0===i.indexOf("@media")?r[i]=r[i]?u(r[i],s):s:r[i]=s)}}return r}Object.defineProperty(r,"__esModule",{value:!0}),r.raf="undefined"==typeof requestAnimationFrame?function(e){return setTimeout(e)}:"undefined"==typeof window?requestAnimationFrame:requestAnimationFrame.bind(window),r.classes=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.map(function(t){return t&&"object"==typeof t?Object.keys(t).map(function(e){return!!t[e]&&e}):[t]}).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return!!e}).join(" ")},r.extend=u,r.media=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n,o=[];return e.type&&o.push(e.type),e.orientation&&o.push("(orientation: "+e.orientation+")"),e.minWidth&&o.push("(min-width: "+a(e.minWidth)+")"),e.maxWidth&&o.push("(max-width: "+a(e.maxWidth)+")"),e.minHeight&&o.push("(min-height: "+a(e.minHeight)+")"),e.maxHeight&&o.push("(max-height: "+a(e.maxHeight)+")"),{$nest:(n={},n["@media "+o.join(" and ")]=u.apply(void 0,t),n)}};var a=function(e){return"string"==typeof e?e:e+"px"}},{}],17:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},{}]},{},[7]);
//# sourceMappingURL=bundle.js.map
